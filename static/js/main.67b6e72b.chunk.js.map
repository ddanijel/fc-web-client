{"version":3,"sources":["assets/img/marker-icon.png","../node_modules/@truffle/hdwallet-provider/node_modules/web3-eth-accounts/src sync","assets/img/marker-shadow.png","state/actions/types.ts","state/actions/ui.ts","ethereum/web3.tsx","ethereum/helpers.ts","state/actions/producer.ts","global/constants.ts","ethereum/foodChain.ts","ethereum/producer.ts","state/localStorage.ts","state/actions/scannedProducers.ts","state/actions/productTag.ts","ethereum/productTag.ts","state/reducers/ui.ts","state/helperFunction.ts","state/reducers/producer.ts","state/reducers/newProductTag.ts","state/reducers/mapView.ts","state/reducers/scannedProducers.ts","state/reducers/producerAuth.ts","state/reducers/generatedProductTag.ts","state/reducers/index.ts","components/ui/SideDrawer.tsx","components/ui/Header.tsx","components/ui/Theme.js","components/screens/HomeScreen.tsx","components/screens/producer/auth/SignInForm.tsx","state/actions/producerAuth.ts","components/fragments/ManageActionsForm.tsx","components/ui/hooks/useWindowDimensions.tsx","components/fragments/ManageCertificatesForm.tsx","components/screens/producer/auth/SignUpForm.tsx","components/screens/producer/auth/ProducerAuth.tsx","components/ui/Footer.tsx","components/ui/Backdrop.tsx","state/actions/mapView.ts","components/fragments/ActionsOverviewCard.tsx","components/product_tag/ScannedProductTagsPanel.tsx","components/screens/PTScanner.tsx","components/PrivateRoute.tsx","components/screens/producer/ProducerBottomTagNavigation.tsx","components/product_tag/steps/ScanProductTags.tsx","components/fragments/ProductTagDetails.tsx","components/product_tag/steps/NewPTOverview.tsx","components/fragments/QRCodeToPrint.tsx","components/product_tag/steps/PrintShareQRCode.tsx","components/product_tag/NewProductTagScreen.tsx","state/actions/newProductTag.ts","state/actions/generatedProductTag.ts","components/product_tag/ProductTagHistory.tsx","components/screens/producer/ProducerSettings.tsx","components/screens/producer/Producer.tsx","components/ui/QRScannerModal.tsx","components/map_view/MapViewModal.tsx","components/App.tsx","index.tsx"],"names":["module","exports","webpackEmptyContext","req","e","Error","code","keys","resolve","id","ActionTypes","web3","mnemonic","toggleDrawer","isDrawerOpen","type","toggleQRScannerModal","isQRScannerModalOpen","toggleIsLoading","isLoading","setNewProductTagActiveStep","activeStep","populateProducer","producerResult","contractAddress","producerContractAddress","isAuthenticated","foodChainContractAddress","producerOwnerAccountAddress","producerName","licenceNumber","url","certificates","defaultActions","productTags","variableNames","routePaths","window","ethereum","Web3","enable","currentProvider","provider","localStorage","getItem","HDWalletProvider","process","valid","inputMnemonic","prompt","utils","HDNode","isValidMnemonic","setItem","setProvider","eth","Contract","JSON","parse","FoodChain","interface","address","Producer","getItemFromLocalStorage","key","serializedState","err","console","error","saveItemToLocalStorage","value","stringify","fetchScannedProducer","dispatch","a","store","getState","scannedProducers","producers","some","producer","ProducerContract","methods","describeScannedProducer","call","fetchedProducer","populatedProducer","populateScannedProducer","storeScannedProducer","scannedProducer","log","populateProductTag","productTagResult","productTagAddress","producerAddress","actions","geolocation","longitude","latitude","dateTime","year","month","day","hour","minute","previousProductTags","map","fetchPT","ProductTag","describeProductTag","fetchedProductTag","productTag","initialState","newProductTagSteps","steps","isAlreadyAuthenticated","undefined","action","name","selected","isMapViewModalOpen","reducers","combineReducers","ui","state","persistProducer","producerSignIn","authenticated","newProductTag","addActionToNewProductTag","newAction","toggleActionOfNewProductTag","act","addPreviousProductTag","resetProductTagUponCreation","mapView","toggleMapViewModal","storeMainProductTagToMapView","addFetchedPreviousProductTagForMapView","producerAuth","updateSignUpFormField","field","addDefaultActionToProducer","addCertificateToProducer","newCertificate","toggleDefaultActionForProducer","toggleCertificateForProducer","cer","certificate","generatedProductTag","saveGeneratedProductTagAddress","useStyles","makeStyles","list","width","fullList","SideDrawer","connect","props","classes","open","event","SwipeableDrawer","onClose","onOpen","className","role","onClick","onKeyDown","List","text","index","ListItem","button","ListItemIcon","ListItemText","primary","Divider","theme","createStyles","toolbarMargin","mixins","toolbar","root","flexGrow","menuButton","marginRight","spacing","title","color","textDecoration","HideOnScroll","children","trigger","useScrollTrigger","Slide","appear","direction","in","Header","Fragment","AppBar","Toolbar","IconButton","edge","aria-label","Typography","component","Link","to","variant","createMuiTheme","palette","common","black","arcBlue","main","secondary","typography","h5","fontWeight","margin","display","justifyContent","buttonGroup","height","marginTop","HomeScreen","Box","mt","Grid","container","item","xs","Button","paper","flexDirection","alignItems","avatar","backgroundColor","form","submit","SignInForm","signInProducer","history","getAccounts","accounts","from","describeProducer","push","useForm","handleSubmit","control","useHistory","onSubmit","Container","maxWidth","CssBaseline","Avatar","as","TextField","required","fullWidth","label","autoFocus","defaultValue","FormControlLabel","Checkbox","actionForm","cardRoot","overflow","cardActions","ManageActionsForm","reset","handleChange","toggleAction","target","checked","handleAddAction","currentActions","addAction","CardContent","style","FormGroup","Switch","onChange","CardActions","size","endIcon","getWindowDimensions","innerWidth","innerHeight","useWindowDimensions","useState","windowDimensions","setWindowDimensions","useEffect","handleResize","addEventListener","removeEventListener","certificateForm","cardCertificate","ManageCertificatesForm","toggleCertificate","handleAddCertificate","currentCertificates","addCertificate","Card","defaultActionsCard","cardTitle","fontSize","SignUpForm","signUpProducer","producerSignUpFormData","registerProducer","filter","send","getContractForProducer","onFormFieldChange","eventTarget","sm","autoComplete","TabPanel","other","hidden","aria-labelledby","p","a11yProps","background","ProducerAuth","useTheme","React","setValue","position","Tabs","newValue","indicatorColor","textColor","Tab","axis","onChangeIndex","dir","footer","grey","Copyright","align","href","Date","getFullYear","Footer","backdrop","zIndex","drawer","LoadingBackdrop","Backdrop","CircularProgress","traversePreviousProductTagsTree","asyncForEach","result","prevPt","array","callback","length","ActionsOverviewCard","filteredActions","gutterBottom","dense","actionName","cloneElement","heading","pxToRem","flexBasis","flexShrink","secondaryHeading","contractAddressForm","ScannedProductTagsPanel","showMapViewForProductTag","geolocated","expanded","setExpanded","index1","ExpansionPanel","panel","isExpanded","ExpansionPanelSummary","expandIcon","aria-controls","toString","substring","index2","ExpansionPanelDetails","disabled","ExpansionPanelActions","stepperRoot","paddingTop","buttonBack","float","buttonNext","scanPTButton","marginLeft","instructions","marginBottom","PtScanner","useDispatch","startIcon","PrivateRoute","Component","signInOnStartup","rest","render","pathname","stickToBottom","bottom","ProducerBottomTagNavigation","BottomNavigation","showLabels","BottomNavigationAction","icon","bullet","transform","pos","ScanProductTags","demo","dateTextField","ProductTagDetails","formattedDateTime","toDateString","toLocaleTimeString","showPreviousProductTagsList","NewPTOverview","QrCodeToPrint","order","bgColor","fgColor","level","this","PrintShareQRCode","componentRef","useRef","content","current","ref","NewProductTagScreen","generateProductTag","genProductTag","getMonth","getDate","getHours","getMinutes","methodToCall","pt","getGeolocation","coords","Stepper","alternativeLabel","Step","StepLabel","step","getStepContent","getForwardButtonText","ProductTagHistory","ProducerSettings","subroute","match","location","path","modal","border","boxShadow","shadows","padding","QrScannerModal","fetchPreviousProductTag","productTagContractAddress","handleOnScan","data","isAddress","Modal","aria-describedby","closeAfterTransition","BackdropComponent","BackdropProps","timeout","Fade","delay","onError","onScan","closeMapButton","MapViewModal","mainMarkerIcon","L","Icon","iconUrl","require","iconRetinaUrl","iconSize","shadowUrl","lines","allProductTags","concat","forEach","pt1","pt2","pt3","from_lat","from_long","to_lat","to_long","Map","animate","center","zoom","TileLayer","attribution","Marker","Popup","Polyline","positions","minHeight","App","ThemeProvider","basename","exact","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","document","querySelector"],"mappings":"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","file":"static/js/main.67b6e72b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/marker-icon.71c80642.png\";","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 863;","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC\"","import {\n    SetNewProductTagActiveStepAction,\n    ToggleDrawerAction,\n    ToggleIsLoadingAction,\n    ToggleQRScannerModalAction\n} from \"./ui\";\nimport {PersistProducerAction} from \"./producer\";\nimport {\n    AddActionToNewProductTagAction,\n    AddPreviousProductTagAction,\n    FetchPreviousProductTagAction,\n    GenerateProductTagAction,\n    ResetProductTagUponCreationAction,\n    ToggleActionOfNewProductTagAction,\n} from \"./newProductTag\";\nimport {FetchProductTagAction} from \"./productTag\";\nimport {\n    AddFetchedPreviousProductTagForMapViewAction,\n    ShowMapViewForProductTagAction,\n    StoreMainProductTagToMapViewAction,\n    ToggleMapViewModalAction\n} from \"./mapView\";\nimport {FetchScannedProducerAction, StoreScannedProducerAction} from \"./scannedProducers\";\nimport {\n    AddCertificateToProducerAction,\n    AddDefaultActionToProducerAction,\n    ProducerSignInAction,\n    ToggleCertificateForProducerAction,\n    ToggleDefaultActionForProducerAction,\n    UpdateSignUpFormFieldAction\n} from \"./producerAuth\";\nimport {SaveGeneratedProductTagAddressAction} from \"./generatedProductTag\";\n\nexport enum ActionTypes {\n    toggleDrawer,\n    toggleIsLoading,\n    toggleQRScannerModal,\n    persistProducer,\n    producerSignIn,\n    addActionToNewProductTag,\n    toggleActionOfNewProductTag,\n    generateProductTag,\n    fetchProductTag,\n    fetchPreviousProductTag,\n    addPreviousProductTag,\n    resetProductTagUponCreation,\n    toggleMapViewModal,\n    showMapViewForProductTag,\n    fetchScannedProducer,\n    storeScannedProducer,\n    updateSignUpFormField,\n    addDefaultActionToProducer,\n    toggleDefaultActionForProducer,\n    addCertificateToProducer,\n    toggleCertificateForProducer,\n    saveGeneratedProductTagAddress,\n    storeMainProductTagToMapView,\n    addFetchedPreviousProductTagForMapView,\n    setNewProductTagActiveStep\n}\n\nexport type Action =\n    ToggleDrawerAction |\n    ToggleIsLoadingAction |\n    ToggleQRScannerModalAction |\n    PersistProducerAction |\n    ProducerSignInAction |\n    AddActionToNewProductTagAction |\n    ToggleActionOfNewProductTagAction |\n    GenerateProductTagAction |\n    FetchProductTagAction |\n    FetchPreviousProductTagAction |\n    AddPreviousProductTagAction |\n    ResetProductTagUponCreationAction |\n    ToggleMapViewModalAction |\n    ShowMapViewForProductTagAction |\n    FetchScannedProducerAction |\n    StoreScannedProducerAction |\n    UpdateSignUpFormFieldAction |\n    AddDefaultActionToProducerAction |\n    ToggleDefaultActionForProducerAction |\n    AddCertificateToProducerAction |\n    ToggleCertificateForProducerAction |\n    SaveGeneratedProductTagAddressAction |\n    StoreMainProductTagToMapViewAction |\n    AddFetchedPreviousProductTagForMapViewAction |\n    SetNewProductTagActiveStepAction;","import {ActionTypes} from \"./types\";\n\nexport interface Ui {\n    isDrawerOpen: boolean;\n    isLoading: boolean;\n    isQRScannerModalOpen: boolean;\n    newProductTagSteps: INewProductTagSteps;\n}\n\ninterface INewProductTagSteps {\n    steps: string[];\n    activeStep: number;\n\n}\n\nexport interface ToggleDrawerAction {\n    type: ActionTypes.toggleDrawer;\n    isDrawerOpen: boolean;\n}\n\nexport interface SetNewProductTagActiveStepAction {\n    type: ActionTypes.setNewProductTagActiveStep;\n    activeStep: number;\n}\n\nexport interface ToggleQRScannerModalAction {\n    type: ActionTypes.toggleQRScannerModal;\n    isQRScannerModalOpen: boolean;\n}\n\nexport interface ToggleIsLoadingAction {\n    type: ActionTypes.toggleIsLoading;\n    isLoading: boolean;\n}\n\nexport const toggleDrawer = (isDrawerOpen: boolean): ToggleDrawerAction => {\n    return {\n        type: ActionTypes.toggleDrawer,\n        isDrawerOpen\n    }\n};\n\nexport const toggleQRScannerModal = (isQRScannerModalOpen: boolean): ToggleQRScannerModalAction => {\n    return {\n        type: ActionTypes.toggleQRScannerModal,\n        isQRScannerModalOpen\n    }\n};\n\nexport const toggleIsLoading = (isLoading: boolean): ToggleIsLoadingAction => {\n    return {\n        type: ActionTypes.toggleIsLoading,\n        isLoading\n    }\n};\n\nexport const setNewProductTagActiveStep = (activeStep: number): SetNewProductTagActiveStepAction => {\n    return {\n        type: ActionTypes.setNewProductTagActiveStep,\n        activeStep\n    }\n};","import Web3 from 'web3';\nimport {variableNames} from \"../global/constants\";\nimport HDWalletProvider from \"@truffle/hdwallet-provider\";\nimport {isMnemonicValid} from \"./helpers\";\n// https://medium.com/metamask/no-longer-injecting-web3-js-4a899ad6e59e\n// https://medium.com/@awantoch/how-to-connect-web3-js-to-metamask-in-2020-fee2b2edf58a\n\n\nconst ethEnabled = () => {\n    // @ts-ignore\n    if (window.ethereum) {\n        // @ts-ignore\n        window.web3 = new Web3(window.ethereum);\n        // @ts-ignore\n        window.ethereum.enable();\n        return true;\n    }\n    return false;\n};\n\nlet web3;\n\nif (ethEnabled()) {\n    // @ts-ignore\n    web3 = new Web3(window.web3.currentProvider);\n} else {\n\n    let provider;\n\n    let mnemonic = localStorage.getItem(variableNames.ethAccountMnemonic);\n    if (mnemonic !== null) {\n        provider = new HDWalletProvider(\n            mnemonic,\n            process.env.REACT_APP_INFURA_REMOTE_CLIENT_URL\n        );\n    } else {\n        let valid = false;\n        do {\n            const inputMnemonic = prompt(\"Please enter the Seed words\");\n            valid = isMnemonicValid(inputMnemonic);\n            if (valid) {\n                // we can do this since the above method checks already that is not null\n                // @ts-ignore\n                provider = new HDWalletProvider(inputMnemonic,\n                    process.env.REACT_APP_INFURA_REMOTE_CLIENT_URL);\n                // @ts-ignore\n                localStorage.setItem(variableNames.ethAccountMnemonic, inputMnemonic);\n            }\n        } while (!valid);\n    }\n\n    web3 = new Web3();\n    web3.setProvider(provider);\n}\n\nexport default web3;","import {utils} from \"ethers\";\nimport web3 from \"./web3\";\n\nexport const isMnemonicValid = (mnemonic: string | null): boolean => {\n    if (mnemonic == null) return false;\n    return utils.HDNode.isValidMnemonic(mnemonic);\n};\nexport const isAddressValid = (address: string | null): boolean => {\n    if (address == null) return false;\n    return web3.utils.isAddress(address);\n};","import {ActionTypes} from \"./types\";\nimport {IProducer} from \"../../interfaces/Producer\";\n\nexport interface PersistProducerAction {\n    type: ActionTypes.persistProducer;\n    producer: IProducer\n}\n\n\nexport const populateProducer = (producerResult: any, contractAddress: string): IProducer => {\n    return {\n        producerContractAddress: contractAddress,\n        isAuthenticated: true,\n        foodChainContractAddress: producerResult[0],\n        producerOwnerAccountAddress: producerResult[1],\n        producerName: producerResult[2],\n        licenceNumber: producerResult[3],\n        url: producerResult[4],\n        certificates: producerResult[5],\n        defaultActions: producerResult[6],\n        productTags: producerResult[7]\n    }\n};\n\n","export const foodChainFactoryAddress = \"0x8bA6CF2cb0afA8712F2C193e85c6D3Cf6cD07eCA\";\nexport const variableNames = {\n    // producerContractAddress: \"producerContractAddress\",\n    ethAccountMnemonic: \"ethAccountMnemonic\",\n    etherscanBaseURL: \"https://rinkeby.etherscan.io\",\n    producer: \"producer\"\n};\n\nexport const routePaths = {\n    ptScan: \"/pt/scan\",\n    producer: \"/producer\",\n    producerAuthPage: \"/producer/auth\",\n    createProductTag: \"/producer/newpt\",\n    producerHistoryPage: \"/producer/pthistory\",\n    producerSettings: \"/producer/settings\",\n    testMapView: \"/map\"\n};","import web3 from './web3';\nimport FoodChain from './build/FoodChain.json';\nimport {foodChainFactoryAddress} from \"../global/constants\";\n\nexport default () => new web3.eth.Contract(\n    JSON.parse(FoodChain.interface),\n    foodChainFactoryAddress\n);","import web3 from './web3';\nimport Producer from './build/Producer.json';\n\nexport default (address: string) => new web3.eth.Contract(\n    JSON.parse(Producer.interface),\n    address\n);","export const getItemFromLocalStorage = (key: string): any => {\n    try {\n        const serializedState = localStorage.getItem(key);\n        if (serializedState === null) {\n            return \"\";\n        }\n        return JSON.parse(serializedState);\n    } catch (err) {\n        console.error(\"Error while getting the key from Local Storage\\nKey: \", key);\n        return \"\";\n    }\n};\n\nexport const saveItemToLocalStorage = (key: string, value: any) => {\n    try {\n        const serializedState = JSON.stringify(value);\n        localStorage.setItem(key, serializedState);\n    } catch {\n        console.error(\"Error while saving into Local Storage\\nKey: \", key, \"\\nValue: \", value);\n    }\n};\n","import {ActionTypes} from \"./types\";\nimport {IScannedProducer} from \"../../interfaces/Producer\";\nimport {Dispatch} from \"redux\";\nimport {toggleIsLoading, ToggleIsLoadingAction} from \"./ui\";\nimport ProducerContract from \"../../ethereum/producer\";\nimport {store} from \"../../index\"\n\nexport interface FetchScannedProducerAction {\n    type: ActionTypes.fetchScannedProducer;\n}\n\nexport interface StoreScannedProducerAction {\n    type: ActionTypes.storeScannedProducer;\n    scannedProducer: IScannedProducer\n}\n\n\nexport const fetchScannedProducer = (producerContractAddress: string) => {\n    return async (dispatch: Dispatch) => {\n        dispatch<ToggleIsLoadingAction>(toggleIsLoading(true));\n        try {\n            if (!store.getState().scannedProducers.producers.some(producer => producer.producerContractAddress === producerContractAddress)) {\n                const fetchedProducer = await ProducerContract(producerContractAddress).methods.describeScannedProducer().call();\n                const populatedProducer = populateScannedProducer(fetchedProducer, producerContractAddress);\n                dispatch<StoreScannedProducerAction>({\n                    type: ActionTypes.storeScannedProducer,\n                    scannedProducer: populatedProducer\n                });\n            } else {\n                console.log(\"Producer Already Fetched.\")\n            }\n\n        } catch (e) {\n            // todo display modal\n            console.error(\"Error while fetching the scanned producer, message: \", e);\n        } finally {\n            dispatch<ToggleIsLoadingAction>(toggleIsLoading(false));\n        }\n    }\n};\n\n\nconst populateScannedProducer = (producerResult: any, producerContractAddress: string): IScannedProducer => {\n    return {\n        producerContractAddress,\n        producerOwnerAccountAddress: producerResult[0],\n        producerName: producerResult[1],\n        licenceNumber: producerResult[2],\n        url: producerResult[3],\n        certificates: producerResult[4],\n        productTags: producerResult[5]\n    }\n};\n","import {ActionTypes} from \"./types\";\nimport {IProductTag} from \"../../interfaces/ProductTag\";\nimport {Dispatch} from \"redux\";\nimport ProductTagContract from \"../../ethereum/productTag\";\nimport {fetchScannedProducer, FetchScannedProducerAction} from \"./scannedProducers\";\n\nexport interface FetchProductTagAction {\n    type: ActionTypes.fetchProductTag;\n    productTag: IProductTag\n}\n\nconst populateProductTag = (productTagResult: any, productTagAddress: string): IProductTag => {\n    return {\n        productTagAddress: productTagAddress,\n        producerAddress: productTagResult[0],\n        actions: productTagResult[1],\n        geolocation: {\n            longitude: productTagResult[2][0],\n            latitude: productTagResult[2][1]\n        },\n        dateTime: {\n            year: productTagResult[3][0],\n            month: productTagResult[3][1],\n            day: productTagResult[3][2],\n            hour: productTagResult[3][3],\n            minute: productTagResult[3][4],\n        },\n        previousProductTags: productTagResult[4].map(address => ({\n            productTagAddress: address\n        }))\n    }\n};\n\nexport const fetchPT = async (dispatch: Dispatch, productTagAddress: string): Promise<IProductTag> => {\n    let productTag;\n    console.log(\"fetchPT: \", productTagAddress);\n    try {\n        const fetchedProductTag = await ProductTagContract(productTagAddress)\n            .methods.describeProductTag().call();\n        productTag = populateProductTag(fetchedProductTag, productTagAddress);\n        // @ts-ignore\n        dispatch<FetchScannedProducerAction>(fetchScannedProducer(productTag.producerAddress));\n    } catch (e) {\n        console.error(\"Error while fetching the product tag for address: \", productTagAddress, \"\\nError: \", e);\n    } finally {\n        return productTag\n    }\n};","import web3 from './web3';\nimport ProductTag from './build/ProductTag.json';\n\nexport default (address: string) => new web3.eth.Contract(\n    JSON.parse(ProductTag.interface),\n    address\n);","import {Action, ActionTypes, Ui} from \"../actions\"\n\nconst initialState = {\n    isDrawerOpen: false,\n    isLoading: false,\n    isQRScannerModalOpen: false,\n    newProductTagSteps: {\n        steps: ['Scan', 'Actions', 'Create', \"Print\"],\n        activeStep: 0\n    }\n};\n\nexport const uiReducer = (state: Ui = initialState, action: Action) => {\n    switch (action.type) {\n        case ActionTypes.toggleDrawer:\n            return {\n                ...state,\n                isDrawerOpen: action.isDrawerOpen\n            };\n        case ActionTypes.toggleIsLoading:\n            return {\n                ...state,\n                isLoading: action.isLoading\n            };\n        case ActionTypes.toggleQRScannerModal:\n            return {\n                ...state,\n                isQRScannerModalOpen: action.isQRScannerModalOpen\n            };\n        case ActionTypes.setNewProductTagActiveStep:\n            return {\n                ...state,\n                newProductTagSteps: {\n                    ...state.newProductTagSteps,\n                    activeStep: action.activeStep\n                }\n            };\n        default:\n            return state;\n    }\n};","import {getItemFromLocalStorage} from \"./localStorage\";\n\nexport const isAlreadyAuthenticated = ():boolean => {\n    return JSON.stringify(getItemFromLocalStorage(\"authenticated\")) === 'true'\n};","import {Action, ActionTypes} from \"../actions\";\nimport {IProducer} from \"../../interfaces/Producer\";\nimport {getItemFromLocalStorage} from \"../localStorage\";\nimport {foodChainFactoryAddress, variableNames} from \"../../global/constants\";\nimport {isAlreadyAuthenticated} from \"../helperFunction\";\n\nconst producer: IProducer = getItemFromLocalStorage(variableNames.producer);\n\nconst initialState = {\n    isAuthenticated: isAlreadyAuthenticated(),\n    foodChainContractAddress: foodChainFactoryAddress,\n    producerContractAddress: producer.producerContractAddress === undefined ? \"\" : producer.producerContractAddress,\n    producerOwnerAccountAddress: producer.producerOwnerAccountAddress === undefined ? \"\" : producer.producerOwnerAccountAddress,\n    producerName: producer.producerName === undefined ? \"\" : producer.producerName,\n    licenceNumber: producer.licenceNumber === undefined ? \"\" : producer.licenceNumber,\n    url: producer.url === undefined ? \"\" : producer.url,\n    defaultActions: producer.defaultActions === undefined ? [] : producer.defaultActions,\n    certificates: producer.certificates === undefined ? [] : producer.certificates,\n    productTags: producer.productTags === undefined ? [] : producer.productTags\n};\n\nexport const producerReducer = (state: IProducer = initialState, action: Action) => {\n    switch (action.type) {\n        case ActionTypes.persistProducer:\n            const producer = action.producer;\n            return {\n                ...state,\n                isAuthenticated: true,\n                producerContractAddress: producer.producerContractAddress,\n                producerOwnerAccountAddress: producer.producerOwnerAccountAddress,\n                producerName: producer.producerName,\n                licenceNumber: producer.licenceNumber,\n                url: producer.url,\n                defaultActions: producer.defaultActions,\n                certificates: producer.certificates,\n                productTags: producer.productTags\n            };\n        case ActionTypes.producerSignIn:\n            return {\n                ...state,\n                isAuthenticated: action.authenticated\n            };\n        default:\n            return state;\n    }\n};","import {Action, ActionTypes} from \"../actions\";\nimport {INewProductTag} from \"../../interfaces/ProductTag\";\nimport {IProducer} from \"../../interfaces/Producer\";\nimport {getItemFromLocalStorage} from \"../localStorage\";\nimport {variableNames} from \"../../global/constants\";\n\nconst producer: IProducer = getItemFromLocalStorage(variableNames.producer);\n\nconst initialState = {\n    actions: producer.defaultActions === undefined ? [] : producer.defaultActions.map(action => ({\n        name: action,\n        selected: true\n    })),\n    dateTime: {\n        year: 0,\n        month: 0,\n        day: 0,\n        hour: 0,\n        minute: 0,\n    },\n    geolocation: {\n        longitude: 0,\n        latitude: 0,\n    },\n    previousProductTags: []\n};\n\nexport const newProductTagReducer = (state: INewProductTag = initialState, action: Action): INewProductTag => {\n    switch (action.type) {\n        case ActionTypes.addActionToNewProductTag:\n            return {\n                ...state,\n                actions: [\n                    ...state.actions,\n                    action.newAction\n                ]\n            };\n        case ActionTypes.toggleActionOfNewProductTag:\n            return {\n                ...state,\n                actions: state.actions.map(act => {\n                    if (act.name === action.action.name) {\n                        return {\n                            name: act.name,\n                            selected: !act.selected\n                        };\n                    } else return act;\n                })\n            };\n        case ActionTypes.addPreviousProductTag:\n            return {\n                ...state,\n                previousProductTags: [\n                    ...state.previousProductTags,\n                    action.productTag\n                ]\n\n            };\n        case ActionTypes.resetProductTagUponCreation:\n            return initialState;\n        default:\n            return state;\n    }\n};","import {Action, ActionTypes} from \"../actions\"\nimport {IMapView} from \"../../interfaces/MapView\";\n\nconst initialState = {\n    isMapViewModalOpen: false,\n    productTag: {\n        productTagAddress: \"\",\n        producerAddress: \"\",\n        actions: [],\n        dateTime: {\n            year: 0,\n            month: 0,\n            day: 0,\n            hour: 0,\n            minute: 0,\n        },\n        geolocation: {\n            longitude: 0,\n            latitude: 0,\n        },\n        previousProductTags: []\n    },\n    previousProductTags: []\n};\n\nexport const mapViewReducer = (state: IMapView = initialState, action: Action) => {\n    switch (action.type) {\n        case ActionTypes.toggleMapViewModal:\n            return action.isMapViewModalOpen ? {\n                ...state,\n                isMapViewModalOpen: true\n            } : initialState;\n        case ActionTypes.storeMainProductTagToMapView:\n            return {\n                ...state,\n                isMapViewModalOpen: true,\n                productTag: action.productTag\n            };\n        case ActionTypes.addFetchedPreviousProductTagForMapView: {\n            return {\n                ...state,\n                previousProductTags: [\n                    ...state.previousProductTags,\n                    action.productTag\n                ]\n            }\n        }\n        default:\n            return state;\n    }\n};","import {Action, ActionTypes} from \"../actions\";\nimport {IScannedProducer} from \"../../interfaces/Producer\";\n\nexport interface IScannedProducerReducer {\n    producers: IScannedProducer[]\n}\n\nconst initialState = {\n    producers: []\n};\n\nexport const scannedProducersReducer = (state: IScannedProducerReducer = initialState, action: Action): IScannedProducerReducer => {\n    switch (action.type) {\n        case ActionTypes.storeScannedProducer:\n            return {\n                ...state,\n                producers: [\n                    ...state.producers,\n                    action.scannedProducer\n                ]\n            };\n        default:\n            return state;\n    }\n};","import {Action, ActionTypes} from \"../actions\";\nimport {ISignUpFormData} from \"../../interfaces/Producer\";\n\nconst initialState = {\n    producerName: \"\",\n    licenceNumber: \"\",\n    url: \"\",\n    defaultActions: [],\n    certificates: []\n};\n\nexport const producerAuthReducer = (state: ISignUpFormData = initialState, action: Action): ISignUpFormData => {\n    switch (action.type) {\n        case ActionTypes.updateSignUpFormField:\n            return {\n                ...state,\n                [action.field.name]: action.field.value\n            };\n        case ActionTypes.addDefaultActionToProducer:\n            return {\n                ...state,\n                defaultActions: [\n                    ...state.defaultActions,\n                    action.newAction\n                ]\n            };\n        case ActionTypes.addCertificateToProducer:\n            return {\n                ...state,\n                certificates: [\n                    ...state.certificates,\n                    action.newCertificate\n                ]\n            };\n        case ActionTypes.toggleDefaultActionForProducer:\n            return {\n                ...state,\n                defaultActions: state.defaultActions.map(act => {\n                    if (act.name === action.action.name) {\n                        return {\n                            name: act.name,\n                            selected: !act.selected\n                        };\n                    } else return act;\n                })\n            };\n        case ActionTypes.toggleCertificateForProducer:\n            return {\n                ...state,\n                certificates: state.certificates.map(cer => {\n                    if (cer.name === action.certificate.name) {\n                        return {\n                            name: cer.name,\n                            selected: !cer.selected\n                        };\n                    } else return cer;\n                })\n            };\n        default:\n            return state;\n    }\n};","import {Action, ActionTypes} from \"../actions\"\nimport {IGeneratedProductTag} from \"../../interfaces/ProductTag\";\n\nconst initialState = {\n    address: \"\"\n};\n\nexport const generatedProductTagReducer = (state: IGeneratedProductTag = initialState, action: Action) => {\n    switch (action.type) {\n        case ActionTypes.saveGeneratedProductTagAddress:\n            return {\n                ...state,\n                address: action.address\n            };\n        default:\n            return state;\n    }\n};","import {combineReducers} from \"redux\";\nimport {Ui} from \"../actions\";\nimport {uiReducer} from \"./ui\";\nimport {IProducer, ISignUpFormData} from \"../../interfaces/Producer\";\nimport {producerReducer} from \"./producer\";\nimport {IGeneratedProductTag, INewProductTag} from \"../../interfaces/ProductTag\";\nimport {newProductTagReducer} from \"./newProductTag\";\nimport {IMapView} from \"../../interfaces/MapView\";\nimport {mapViewReducer} from \"./mapView\";\nimport {IScannedProducerReducer, scannedProducersReducer} from \"./scannedProducers\";\nimport {producerAuthReducer} from \"./producerAuth\";\nimport {generatedProductTagReducer} from \"./generatedProductTag\";\n\n\nexport interface StoreState {\n    ui: Ui;\n    producer: IProducer;\n    newProductTag: INewProductTag;\n    mapView: IMapView;\n    scannedProducers: IScannedProducerReducer;\n    producerAuth: ISignUpFormData;\n    generatedProductTag: IGeneratedProductTag;\n}\n\nexport const reducers = combineReducers<StoreState>({\n    ui: uiReducer,\n    producer: producerReducer,\n    newProductTag: newProductTagReducer,\n    mapView: mapViewReducer,\n    scannedProducers: scannedProducersReducer,\n    producerAuth: producerAuthReducer,\n    generatedProductTag: generatedProductTagReducer\n});","import React from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\nimport List from '@material-ui/core/List';\nimport Divider from '@material-ui/core/Divider';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport LanguageIcon from '@material-ui/icons/Language';\nimport {connect} from \"react-redux\";\nimport {toggleDrawer, Ui} from \"../../state/actions\";\nimport {StoreState} from \"../../state/reducers\";\n\ninterface Props {\n    children?: React.ReactElement;\n    ui: Ui;\n    toggleDrawer: typeof toggleDrawer;\n}\n\nconst useStyles = makeStyles({\n    list: {\n        width: 250,\n    },\n    fullList: {\n        width: 'auto',\n    },\n});\n\nconst _SideDrawer = (props: Props) => {\n    const classes = useStyles();\n\n\n    const toggleDrawer = (open: boolean) => (\n        event: React.KeyboardEvent | React.MouseEvent,\n    ) => {\n        if (\n            event &&\n            event.type === 'keydown' &&\n            ((event as React.KeyboardEvent).key === 'Tab' ||\n                (event as React.KeyboardEvent).key === 'Shift')\n        ) {\n            return;\n        }\n        props.toggleDrawer(open);\n    };\n\n    const sideList = () => (\n        <div\n            className={classes.list}\n            role=\"presentation\"\n            onClick={toggleDrawer(false)}\n            onKeyDown={toggleDrawer(false)}\n        >\n            <List>\n                {['Language'].map((text, index) => (\n                    <ListItem button key={text}>\n                        <ListItemIcon>{index % 2 === 0 ? <LanguageIcon/> : <LanguageIcon/>}</ListItemIcon>\n                        <ListItemText primary={text}/>\n                    </ListItem>\n                ))}\n            </List>\n            <Divider/>\n        </div>\n    );\n\n    return (\n        <>\n            <SwipeableDrawer\n                open={props.ui.isDrawerOpen}\n                onClose={toggleDrawer(false)}\n                onOpen={toggleDrawer(true)}\n            >\n                {sideList()}\n            </SwipeableDrawer>\n        </>\n    );\n};\n\nconst mapStateToProps = ({ui}: StoreState) => {\n    return {ui};\n};\n\nexport const SideDrawer = connect(\n    mapStateToProps,\n    {toggleDrawer}\n)(_SideDrawer);","import React from 'react';\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport useScrollTrigger from \"@material-ui/core/useScrollTrigger\";\nimport Slide from \"@material-ui/core/Slide\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {createStyles, makeStyles, Theme} from '@material-ui/core/styles';\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MenuIcon from '@material-ui/icons/Menu';\nimport {SideDrawer} from \"./SideDrawer\";\nimport {connect} from \"react-redux\";\nimport {toggleDrawer} from \"../../state/actions\";\nimport {Link} from \"react-router-dom\";\nimport {StoreState} from \"../../state/reducers\";\n\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        toolbarMargin: {\n            ...theme.mixins.toolbar\n        },\n        root: {\n            flexGrow: 1,\n        },\n        menuButton: {\n            marginRight: theme.spacing(2),\n        },\n        title: {\n            flexGrow: 1,\n            color: 'inherit',\n            textDecoration: 'none'\n        },\n    }),\n);\n\ninterface Props {\n    children?: React.ReactElement;\n    toggleDrawer: typeof toggleDrawer;\n}\n\nfunction HideOnScroll(props: Props) {\n    const { children } = props;\n    const trigger = useScrollTrigger({});\n\n    return (\n        <Slide appear={false} direction=\"down\" in={!trigger}>\n            {children}\n        </Slide>\n    );\n}\n\nconst _Header = (props: Props) => {\n    const classes = useStyles();\n\n    const onDrawerButtonClicked = (): void => {\n        props.toggleDrawer(true);\n    };\n\n    return (\n        <React.Fragment>\n            <HideOnScroll {...props}>\n                <AppBar color=\"primary\">\n                    <Toolbar>\n                        <IconButton onClick={onDrawerButtonClicked} edge=\"start\" className={classes.menuButton}\n                                    color=\"inherit\" aria-label=\"menu\">\n                            <MenuIcon/>\n                        </IconButton>\n                        <Typography component={Link} to=\"/\" variant=\"h6\" className={classes.title}>\n                            Nutria dApp\n                        </Typography>\n                    </Toolbar>\n                </AppBar>\n            </HideOnScroll>\n            <div className={\n                classes.toolbarMargin\n            }/>\n            <SideDrawer/>\n        </React.Fragment>\n    );\n};\n\nconst mapStateToProps = ({ui}: StoreState) => {\n    return {ui};\n};\n\nexport const Header = connect(\n    mapStateToProps,\n    {toggleDrawer}\n)(_Header);\n","import {createMuiTheme} from '@material-ui/core/styles';\n\nconst black = \"#000000\";\nconst archBlue = \"#0B72B9\";\n\nconst theme = createMuiTheme({\n    palette: {\n        // type: \"dark\",\n        common: {\n            black: `${black}`,\n            arcBlue: `${archBlue}`,\n        },\n        primary: {\n            main: `${black}`\n        },\n        secondary: {\n            main: `${archBlue}`\n        }\n    },\n    typography: {\n        h5: {\n            fontWeight: 700\n        }\n    }\n});\n\nexport default theme;","import React from 'react';\nimport {createStyles, makeStyles, Theme} from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport {Link} from \"react-router-dom\";\nimport {routePaths} from \"../../global/constants\";\nimport {Grid} from \"@material-ui/core\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Box from \"@material-ui/core/Box\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            '& > *': {\n                margin: theme.spacing(1),\n            }\n        },\n        button: {\n            display: 'flex',\n            justifyContent: 'center'\n        },\n        buttonGroup: {\n            height: 150,\n            marginTop: 50\n        }\n    }),\n);\n\nconst HomeScreen = () => {\n\n    const classes = useStyles();\n    return (\n\n        <div className={classes.root}>\n            <Box mt={3}>\n                <Typography\n                    variant=\"h5\"\n                    color=\"textPrimary\"\n                >\n                    Decentralized Web-based Supply Chain Tracking Application\n                </Typography>\n            </Box>\n\n            <Box mt={3}>\n                <Grid\n                    className={classes.buttonGroup}\n                    container\n                    spacing={3}\n                >\n                    <Grid\n                        className={classes.button}\n                        item\n                        xs={12}\n                    >\n                        <Button component={Link} to={routePaths.producerAuthPage} variant=\"contained\">Producer</Button>\n                    </Grid>\n                    <Grid\n                        className={classes.button}\n                        item\n                        xs={12}\n                    >\n                        <Button component={Link} to={routePaths.ptScan} variant=\"contained\">Consumer</Button>\n                    </Grid>\n                </Grid>\n            </Box>\n        </div>\n    );\n};\n\nexport default HomeScreen;\n","import React from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport {makeStyles} from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport {Controller, useForm} from \"react-hook-form\";\nimport {ISignInFormData} from \"../../../../interfaces/Producer\";\nimport {connect} from \"react-redux\";\nimport {signInProducer} from \"../../../../state/actions\";\nimport {useHistory} from \"react-router-dom\";\n\n\nconst useStyles = makeStyles(theme => ({\n    paper: {\n        marginTop: theme.spacing(2),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        // width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n}));\n\ninterface Props {\n    children?: React.ReactElement;\n    signInProducer: Function;\n\n}\n\n\nconst _SignInForm = (props: Props) => {\n    const classes = useStyles();\n    const {handleSubmit, control} = useForm<ISignInFormData>();\n    const history = useHistory();\n\n\n    const onSubmit = handleSubmit(\n        ({\n             producerContractAddress\n         }) => {\n            props.signInProducer(\n                producerContractAddress,\n                history\n            );\n        });\n\n\n    return (\n        <Container component=\"main\" maxWidth=\"xs\">\n            <CssBaseline/>\n            <div className={classes.paper}>\n                <Avatar className={classes.avatar}>\n                    <LockOutlinedIcon/>\n                </Avatar>\n                <Typography component=\"h1\" variant=\"h5\">\n                    Sign in\n                </Typography>\n                <form className={classes.form} onSubmit={onSubmit}>\n                    <Controller\n                        name=\"producerContractAddress\"\n                        as={<TextField\n                            variant=\"outlined\"\n                            margin=\"normal\"\n                            required\n                            fullWidth\n                            id=\"producerContractAddress\"\n                            label=\"Producer Contract Address\"\n                            name=\"producerContractAddress\"\n                            autoFocus\n                        />}\n                        control={control}\n                        defaultValue=\"0xb82BC4B22A092C8C80AA04170482AfF3189FCD30\"\n                    />\n\n                    <FormControlLabel\n                        control={<Checkbox value=\"remember\" color=\"primary\"/>}\n                        label=\"Remember me\"\n                    />\n                    <Button\n                        type=\"submit\"\n                        fullWidth\n                        variant=\"contained\"\n                        color=\"primary\"\n                        className={classes.submit}\n                    >\n                        Sign In\n                    </Button>\n                </form>\n            </div>\n        </Container>\n    );\n};\n\n\nexport const SignInForm = connect(\n    null,\n    {signInProducer}\n)(_SignInForm);\n","import {IProducerNewCertificate, ISignUpFormData} from \"../../interfaces/Producer\";\nimport {History} from \"history\";\nimport {Dispatch} from \"redux\";\nimport {toggleIsLoading, ToggleIsLoadingAction} from \"./ui\";\nimport web3 from \"../../ethereum/web3\";\nimport FoodChain from \"../../ethereum/foodChain\";\nimport ProducerContract from \"../../ethereum/producer\";\nimport {saveItemToLocalStorage} from \"../localStorage\";\nimport {routePaths, variableNames} from \"../../global/constants\";\nimport {ActionTypes} from \"./types\";\nimport {PersistProducerAction, populateProducer} from \"./producer\";\nimport {INewProductTagAction} from \"../../interfaces/ProductTag\";\n\n\nexport interface UpdateSignUpFormFieldAction {\n    type: ActionTypes.updateSignUpFormField;\n    field: {\n        name: string,\n        value: string\n    }\n}\n\nexport interface AddDefaultActionToProducerAction {\n    type: ActionTypes.addDefaultActionToProducer;\n    newAction: INewProductTagAction\n}\n\nexport interface AddCertificateToProducerAction {\n    type: ActionTypes.addCertificateToProducer;\n    newCertificate: IProducerNewCertificate\n}\n\nexport const addDefaultActionToProducer = (newAction: INewProductTagAction): AddDefaultActionToProducerAction => {\n    return {\n        type: ActionTypes.addDefaultActionToProducer,\n        newAction\n    }\n};\n\nexport const addCertificateToProducer = (newCertificate: IProducerNewCertificate): AddCertificateToProducerAction => {\n    return {\n        type: ActionTypes.addCertificateToProducer,\n        newCertificate\n    }\n};\n\n\nexport interface ProducerSignInAction {\n    type: ActionTypes.producerSignIn;\n    authenticated: boolean\n}\n\nexport const signUpProducer = (producerSignUpFormData: ISignUpFormData, history: History): (dispatch: Dispatch) => Promise<void> => {\n    return async (dispatch: Dispatch) => {\n        dispatch<ToggleIsLoadingAction>(toggleIsLoading(true));\n\n        try {\n            const accounts = await web3.eth.getAccounts();\n            await FoodChain().methods.registerProducer(\n                producerSignUpFormData.producerName,\n                producerSignUpFormData.licenceNumber,\n                producerSignUpFormData.url,\n                producerSignUpFormData.defaultActions.filter(action => action.selected).map(action => action.name),\n                producerSignUpFormData.certificates.filter(certificate => certificate.selected).map(certificate => certificate.name)\n            ).send({from: accounts[0]});\n            const contractAddress = await FoodChain().methods.getContractForProducer(accounts[0]).call();\n            const producerResult = await ProducerContract(contractAddress).methods.describeProducer().call();\n            const producer = populateProducer(producerResult, contractAddress);\n            saveItemToLocalStorage(variableNames.producer, producer);\n            saveItemToLocalStorage(\"authenticated\", true);\n            dispatch<PersistProducerAction>({\n                type: ActionTypes.persistProducer,\n                producer\n            });\n            history.push(routePaths.producer);\n        } catch (e) {\n            console.error(e);\n        } finally {\n            dispatch<ToggleIsLoadingAction>(toggleIsLoading(false));\n        }\n    }\n};\n\nexport const signInProducer = (producerContractAddress: string, history: History) => {\n    return async (dispatch: Dispatch) => {\n        dispatch<ToggleIsLoadingAction>(toggleIsLoading(true));\n        try {\n            const accounts = await web3.eth.getAccounts();\n            const authenticated = await ProducerContract(producerContractAddress).methods.isAuthenticated().call({from: accounts[0]});\n            dispatch<ProducerSignInAction>({\n                type: ActionTypes.producerSignIn,\n                authenticated: authenticated\n            });\n            if (authenticated) {\n                const producerResult = await ProducerContract(producerContractAddress).methods.describeProducer().call();\n                const producer = populateProducer(producerResult, producerContractAddress);\n                dispatch<PersistProducerAction>({\n                    type: ActionTypes.persistProducer,\n                    producer\n                });\n                saveItemToLocalStorage(variableNames.producer, producer);\n                saveItemToLocalStorage(\"authenticated\", true);\n                history.push(routePaths.producer);\n            }\n        } catch (e) {\n            dispatch<ProducerSignInAction>({\n                type: ActionTypes.producerSignIn,\n                authenticated: false\n            });\n            console.error(\"Error while signing in the producer, message: \", e);\n        } finally {\n            dispatch<ToggleIsLoadingAction>(toggleIsLoading(false));\n        }\n    }\n};\n\n\nexport const updateSignUpFormField = (name: string, value: string): UpdateSignUpFormFieldAction => {\n    return {\n        type: ActionTypes.updateSignUpFormField,\n        field: {\n            name,\n            value\n        }\n    }\n};\n\n\nexport interface ToggleDefaultActionForProducerAction {\n    type: ActionTypes.toggleDefaultActionForProducer,\n    action: INewProductTagAction\n}\n\n\nexport const toggleDefaultActionForProducer = (action: INewProductTagAction): ToggleDefaultActionForProducerAction => {\n    return {\n        type: ActionTypes.toggleDefaultActionForProducer,\n        action\n    }\n};\n\n\nexport interface ToggleCertificateForProducerAction {\n    type: ActionTypes.toggleCertificateForProducer,\n    certificate: IProducerNewCertificate\n}\n\nexport const toggleCertificateForProducer = (certificate: IProducerNewCertificate): ToggleCertificateForProducerAction => {\n    return {\n        type: ActionTypes.toggleCertificateForProducer,\n        certificate\n    }\n};","import React from 'react';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Switch from '@material-ui/core/Switch';\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport {createStyles, makeStyles, Theme} from \"@material-ui/core/styles\";\nimport {Controller, useForm} from \"react-hook-form\";\nimport {INewProductTagAction, IProductTagAction} from \"../../interfaces/ProductTag\";\nimport {CardContent} from \"@material-ui/core\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport List from \"@material-ui/core/List\";\nimport Typography from \"@material-ui/core/Typography\";\nimport AddIcon from '@material-ui/icons/Add';\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        actionForm: {\n            display: 'flex',\n            flexDirection: 'row',\n            alignItems: 'center',\n            '& > *': {\n                margin: theme.spacing(1),\n            },\n        },\n        cardRoot: {\n            overflow: \"auto\"\n        },\n        cardActions: {\n            justifyContent: 'center'\n        }\n    }),\n);\n\ninterface Props {\n    currentActions: INewProductTagAction[];\n    addAction: Function;\n    toggleAction: Function;\n}\n\nconst ManageActionsForm = (props: Props) => {\n    const classes = useStyles();\n    const {handleSubmit, control, reset} = useForm<IProductTagAction>();\n\n    const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        props.toggleAction({\n            name: event.target.name,\n            selected: event.target.checked\n        });\n    };\n\n    const handleAddAction = handleSubmit(({name}) => {\n        if (!props.currentActions.some(action => action.name === name)) {\n            props.addAction({\n                name,\n                selected: true\n            });\n            reset();\n        }\n    });\n\n    return (\n        <>\n            <CardContent style={{\n                height: \"80%\"\n            }}>\n                <Typography variant=\"h5\" component=\"h2\">\n                    Product Actions\n                </Typography>\n                <FormGroup style={{\n                    height: \"100%\",\n                    display: 'block',\n                    flexDirection: 'row',\n                    alignItems: 'center',\n                }}>\n                    <List>\n                        {props.currentActions.map((action, index) => (\n                            <FormControlLabel key={index}\n                                              control={<Switch checked={action.selected} onChange={handleChange}\n                                                               name={action.name}/>}\n                                              label={action.name}\n                            />\n                        ))}\n                    </List>\n                </FormGroup>\n\n            </CardContent>\n            <CardActions className={classes.cardActions}>\n                <form className={classes.actionForm} onSubmit={handleAddAction}>\n                    <Controller\n                        name=\"name\"\n                        as={\n                            <TextField\n                                variant=\"outlined\"\n                                margin=\"normal\"\n                                required\n                                color=\"secondary\"\n                                size={\"small\"}\n                                id=\"name\"\n                                label=\"Action Name\"\n                                name=\"name\"\n                                // autoFocus\n                            />}\n                        control={control}\n                        defaultValue=\"\"\n                    />\n                    <Button type=\"submit\"\n                            variant=\"contained\"\n                            color=\"secondary\"\n                            endIcon={<AddIcon/>}\n                    >\n                        Add\n                    </Button>\n                </form>\n            </CardActions>\n        </>\n    );\n};\n\nexport default ManageActionsForm;","import {useEffect, useState} from 'react';\n\nfunction getWindowDimensions() {\n    const {innerWidth: width, innerHeight: height} = window;\n    return {\n        width,\n        height\n    };\n}\n\nexport default function useWindowDimensions() {\n    const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\n\n    useEffect(() => {\n        function handleResize() {\n            setWindowDimensions(getWindowDimensions());\n        }\n\n        window.addEventListener('resize', handleResize);\n        return () => window.removeEventListener('resize', handleResize);\n    }, []);\n\n    return windowDimensions;\n}","import React from 'react';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Switch from '@material-ui/core/Switch';\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport {createStyles, makeStyles, Theme} from \"@material-ui/core/styles\";\nimport {Controller, useForm} from \"react-hook-form\";\nimport {IProductTagAction} from \"../../interfaces/ProductTag\";\nimport {CardContent} from \"@material-ui/core\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport List from \"@material-ui/core/List\";\nimport Typography from \"@material-ui/core/Typography\";\nimport useWindowDimensions from \"../ui/hooks/useWindowDimensions\";\nimport AddIcon from '@material-ui/icons/Add';\nimport {IProducerNewCertificate} from \"../../interfaces/Producer\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        certificateForm: {\n            display: 'flex',\n            flexDirection: 'row',\n            alignItems: 'center',\n            '& > *': {\n                margin: theme.spacing(1),\n            },\n        },\n        cardRoot: {\n            overflow: \"auto\"\n        },\n        cardCertificate: {\n            justifyContent: 'center'\n        }\n    }),\n);\n\ninterface Props {\n    currentCertificates: IProducerNewCertificate[];\n    addCertificate: Function;\n    toggleCertificate: Function;\n}\n\nconst ManageCertificatesForm = (props: Props) => {\n    const classes = useStyles();\n    const {handleSubmit, control, reset} = useForm<IProductTagAction>();\n    const {height} = useWindowDimensions();\n\n    const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        props.toggleCertificate({\n            name: event.target.name,\n            selected: event.target.checked\n        });\n    };\n\n    const handleAddCertificate = handleSubmit(({name}) => {\n        if (!props.currentCertificates.some(certificate => certificate.name === name)) {\n            props.addCertificate({\n                name,\n                selected: true\n            });\n            reset();\n        }\n    });\n\n    return (\n        <Card style={{\n            height: height - 300\n        }} className={classes.cardRoot}>\n            <CardContent style={{\n                height: \"80%\"\n            }}>\n                <Typography variant=\"h5\" component=\"h2\">\n                    Certificates\n                </Typography>\n                <FormGroup style={{\n                    height: \"100%\",\n                    display: 'block',\n                    flexDirection: 'row',\n                    alignItems: 'center',\n                }}>\n                    <List>\n                        {props.currentCertificates.map((currentCertificates, index) => (\n                            <FormControlLabel key={index}\n                                              control={<Switch checked={currentCertificates.selected}\n                                                               onChange={handleChange}\n                                                               name={currentCertificates.name}/>}\n                                              label={currentCertificates.name}\n                            />\n                        ))}\n                    </List>\n                </FormGroup>\n\n            </CardContent>\n            <CardActions className={classes.cardCertificate}>\n                <form className={classes.certificateForm} onSubmit={handleAddCertificate}>\n                    <Controller\n                        name=\"name\"\n                        as={\n                            <TextField\n                                variant=\"outlined\"\n                                margin=\"normal\"\n                                required\n                                color=\"secondary\"\n                                size={\"small\"}\n                                id=\"name\"\n                                label=\"Certificate Name\"\n                                name=\"name\"\n                                // autoFocus\n                            />}\n                        control={control}\n                        defaultValue=\"\"\n                    />\n                    <Button type=\"submit\"\n                            variant=\"contained\"\n                            color=\"secondary\"\n                            endIcon={<AddIcon/>}\n                    >\n                        Add\n                    </Button>\n                </form>\n            </CardActions>\n        </Card>\n    );\n};\n\nexport default ManageCertificatesForm;","import React from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport {makeStyles} from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport {connect} from \"react-redux\";\nimport {\n    addCertificateToProducer,\n    addDefaultActionToProducer,\n    signUpProducer,\n    toggleCertificateForProducer,\n    toggleDefaultActionForProducer,\n    updateSignUpFormField\n} from \"../../../../state/actions\";\nimport {useHistory} from \"react-router-dom\";\nimport {StoreState} from \"../../../../state/reducers\";\nimport {ISignUpFormData} from \"../../../../interfaces/Producer\";\nimport ManageActionsForm from \"../../../fragments/ManageActionsForm\";\nimport ManageCertificatesForm from \"../../../fragments/ManageCertificatesForm\";\n\nconst useStyles = makeStyles(theme => ({\n    paper: {\n        marginTop: theme.spacing(2),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n        // width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(3),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n    defaultActionsCard: {},\n    cardTitle: {\n        fontSize: 14\n    }\n}));\n\ninterface Props {\n    children?: React.ReactElement;\n    signUpProducer: Function;\n    updateSignUpFormField: typeof updateSignUpFormField;\n    producerAuth: ISignUpFormData;\n    addDefaultActionToProducer: typeof addDefaultActionToProducer;\n    toggleDefaultActionForProducer: typeof toggleDefaultActionForProducer;\n    addCertificateToProducer: typeof addCertificateToProducer;\n    toggleCertificateForProducer: typeof toggleCertificateForProducer;\n}\n\nconst _SignUpForm = (props: Props) => {\n    const classes = useStyles();\n    const history = useHistory();\n\n    const onFormFieldChange = (eventTarget: (EventTarget & HTMLTextAreaElement) | (EventTarget & HTMLInputElement)) => {\n        props.updateSignUpFormField(eventTarget.name, eventTarget.value);\n    };\n\n    return (\n        <Container component=\"main\" maxWidth=\"xs\">\n            <CssBaseline/>\n            <div className={classes.paper}>\n                <Avatar className={classes.avatar}>\n                    <LockOutlinedIcon/>\n                </Avatar>\n                <Typography component=\"h1\" variant=\"h5\">\n                    Sign up\n                </Typography>\n\n                <Grid container spacing={2}>\n                    <Grid item xs={12} sm={6}>\n                        <TextField\n                            autoComplete=\"producerName\"\n                            name=\"producerName\"\n                            variant=\"outlined\"\n                            size=\"small\"\n                            required\n                            fullWidth\n                            id=\"producerName\"\n                            label=\"Producer Name\"\n                            autoFocus\n                            value={props.producerAuth.producerName}\n                            onChange={(event) => onFormFieldChange(event.target)}\n                        />\n\n                    </Grid>\n                    <Grid item xs={12} sm={6}>\n                        <TextField\n                            variant=\"outlined\"\n                            required\n                            fullWidth\n                            size=\"small\"\n                            id=\"licenceNumber\"\n                            label=\"Licence Number\"\n                            name=\"licenceNumber\"\n                            autoComplete=\"licenceNumber\"\n                            value={props.producerAuth.licenceNumber}\n                            onChange={(event) => onFormFieldChange(event.target)}\n                        />\n\n                    </Grid>\n                    <Grid item xs={12}>\n                        <TextField\n                            variant=\"outlined\"\n                            required\n                            size=\"small\"\n                            fullWidth\n                            id=\"url\"\n                            label=\"URL\"\n                            name=\"url\"\n                            autoComplete=\"url\"\n                            value={props.producerAuth.url}\n                            onChange={(event) => onFormFieldChange(event.target)}\n                        />\n                    </Grid>\n                    <Grid item xs={12}>\n                        <ManageActionsForm\n                            currentActions={props.producerAuth.defaultActions}\n                            addAction={props.addDefaultActionToProducer}\n                            toggleAction={props.toggleDefaultActionForProducer}\n                        />\n                    </Grid>\n                    <Grid item xs={12}>\n                        <ManageCertificatesForm\n                            currentCertificates={props.producerAuth.certificates}\n                            addCertificate={props.addCertificateToProducer}\n                            toggleCertificate={props.toggleCertificateForProducer}\n                        />\n                    </Grid>\n                    <Grid item xs={12}>\n                        <FormControlLabel\n                            control={<Checkbox value=\"agreeWithTermsAndConditions\" color=\"primary\"/>}\n                            label=\"I agree with terms and conditions\"\n                        />\n                    </Grid>\n                </Grid>\n                <Button\n                    type=\"submit\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    className={classes.submit}\n                    onClick={() => props.signUpProducer(props.producerAuth, history)}\n                >\n                    Sign Up\n                </Button>\n            </div>\n        </Container>\n    );\n};\n\nconst mapStateToProps = ({producerAuth}: StoreState) => {\n    return {producerAuth};\n};\n\nexport const SignUpForm = connect(\n    mapStateToProps,\n    {\n        signUpProducer,\n        updateSignUpFormField,\n        addDefaultActionToProducer,\n        addCertificateToProducer,\n        toggleDefaultActionForProducer,\n        toggleCertificateForProducer\n    }\n)(_SignUpForm);\n","import React from 'react';\nimport SwipeableViews from 'react-swipeable-views';\nimport {makeStyles, Theme, useTheme} from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport {SignInForm} from \"./SignInForm\";\nimport {SignUpForm} from \"./SignUpForm\";\nimport {isAlreadyAuthenticated} from \"../../../../state/helperFunction\";\nimport {routePaths} from \"../../../../global/constants\";\nimport {useHistory} from \"react-router-dom\";\n\ninterface TabPanelProps {\n    children?: React.ReactNode;\n    dir?: string;\n    index: any;\n    value: any;\n}\n\nfunction TabPanel(props: TabPanelProps) {\n    const {children, value, index, ...other} = props;\n\n    return (\n        <Typography\n            component=\"div\"\n            role=\"tabpanel\"\n            hidden={value !== index}\n            id={`full-width-tabpanel-${index}`}\n            aria-labelledby={`full-width-tab-${index}`}\n            {...other}\n        >\n            {value === index && <Box p={1}>{children}</Box>}\n        </Typography>\n    );\n}\n\nfunction a11yProps(index: any) {\n    return {\n        id: `full-width-tab-${index}`,\n        'aria-controls': `full-width-tabpanel-${index}`,\n    };\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n    root: {\n        marginTop: theme.spacing(2),\n        backgroundColor: theme.palette.background.paper\n    },\n}));\n\nconst ProducerAuth = () => {\n    const classes = useStyles();\n    const theme = useTheme();\n    const history = useHistory();\n    const [value, setValue] = React.useState(1);\n\n    if (isAlreadyAuthenticated()){\n        history.push(routePaths.producer)\n    }\n\n\n    const handleChange = (event: React.ChangeEvent<{}>, newValue: number) => {\n        const updatedIndex = newValue < 0 ? 0 : newValue;  // todo no idea why it adds 1 when we swipe left\n        setValue(updatedIndex);\n    };\n\n    const handleChangeIndex = (index: number) => {\n        const updatedIndex = index < 0 ? 0 : index - 1;  // todo no idea why it adds 1 when we swipe left\n        setValue(updatedIndex);\n    };\n\n    return (\n        <div className={classes.root}>\n            <AppBar position=\"static\" color=\"default\">\n                <Tabs\n                    value={value}\n                    onChange={handleChange}\n                    indicatorColor=\"primary\"\n                    textColor=\"primary\"\n                    variant=\"fullWidth\"\n                    aria-label=\"full width tabs example\"\n                >\n                    <Tab label=\"SignIn\" {...a11yProps(0)} />\n                    <Tab label=\"SignUp\" {...a11yProps(1)} />\n                </Tabs>\n            </AppBar>\n            <SwipeableViews\n                axis={theme.direction === 'rtl' ? 'x-reverse' : 'x'}\n                index={value}\n                onChangeIndex={handleChangeIndex}\n            >\n                <TabPanel value={value} index={0} dir={theme.direction}>\n                    <SignInForm/>\n                </TabPanel>\n                <TabPanel value={value} index={1} dir={theme.direction}>\n                    <SignUpForm/>\n                </TabPanel>\n            </SwipeableViews>\n        </div>\n    );\n};\n\nexport default ProducerAuth;","import React from 'react';\nimport Container from \"@material-ui/core/Container\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Link from \"@material-ui/core/Link\";\nimport {makeStyles} from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n    footer: {\n        // padding: theme.spacing(3, 2),\n        marginTop: 'auto',\n        backgroundColor:\n            theme.palette.type === 'dark' ? theme.palette.grey[800] : theme.palette.grey[200],\n    },\n}));\n\nfunction Copyright() {\n    return (\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n            {'Copyright © '}\n            <Link color=\"inherit\" href=\"http://www.csg.uzh.ch/csg/en/research/Foodchains.html\">\n                CSG\n            </Link>{' '}\n            {new Date().getFullYear()}\n            {'.'}\n        </Typography>\n    );\n}\n\nconst Footer = () => {\n    const classes = useStyles();\n    return (\n        <footer className={classes.footer}>\n            <Container maxWidth=\"sm\">\n                <Copyright/>\n            </Container>\n        </footer>\n    );\n};\n\nexport default Footer;","import React from 'react';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport {createStyles, makeStyles, Theme} from '@material-ui/core/styles';\nimport {connect} from \"react-redux\";\nimport {StoreState} from \"../../state/reducers\";\nimport {Ui} from \"../../state/actions\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        backdrop: {\n            zIndex: theme.zIndex.drawer + 1,\n            color: '#fafff1',\n        },\n    }),\n);\n\ninterface Props {\n    ui: Ui\n}\n\nconst _Backdrop = (props: Props) => {\n    const classes = useStyles();\n    return (\n        <Backdrop className={classes.backdrop} open={props.ui.isLoading}>\n            <CircularProgress color=\"inherit\"/>\n        </Backdrop>\n    );\n};\n\nconst mapStateToProps = ({ui}: StoreState): { ui: Ui } => {\n    return {ui};\n};\n\nexport const LoadingBackdrop = connect(\n    mapStateToProps,\n    {}\n)(_Backdrop);\n","import {ActionTypes} from \"./types\";\nimport {IProductTag} from \"../../interfaces/ProductTag\";\nimport {Dispatch} from \"redux\";\nimport {toggleIsLoading, ToggleIsLoadingAction} from \"./ui\";\nimport {fetchPT} from \"./productTag\";\n\n\nexport interface ToggleMapViewModalAction {\n    type: ActionTypes.toggleMapViewModal;\n    isMapViewModalOpen: boolean;\n}\n\nexport interface ShowMapViewForProductTagAction {\n    type: ActionTypes.showMapViewForProductTag\n    productTag: IProductTag\n}\n\nexport interface StoreMainProductTagToMapViewAction {\n    type: ActionTypes.storeMainProductTagToMapView\n    productTag: IProductTag\n}\n\nexport interface AddFetchedPreviousProductTagForMapViewAction {\n    type: ActionTypes.addFetchedPreviousProductTagForMapView\n    productTag: IProductTag\n}\n\nexport const toggleMapViewModal = (isMapViewModalOpen: boolean): ToggleMapViewModalAction => {\n    return {\n        type: ActionTypes.toggleMapViewModal,\n        isMapViewModalOpen\n    }\n};\n\nexport const storeMainProductTagToMapView = (productTag: IProductTag): StoreMainProductTagToMapViewAction => {\n    return {\n        type: ActionTypes.storeMainProductTagToMapView,\n        productTag\n    }\n};\n\nexport const addFetchedPreviousProductTagForMapView = (productTag: IProductTag): AddFetchedPreviousProductTagForMapViewAction => {\n    return {\n        type: ActionTypes.addFetchedPreviousProductTagForMapView,\n        productTag\n    }\n};\n\nexport const showMapViewForProductTag = (productTag: IProductTag) => {\n    return async (dispatch: Dispatch) => {\n        dispatch<ToggleIsLoadingAction>(toggleIsLoading(true));\n        dispatch<StoreMainProductTagToMapViewAction>(storeMainProductTagToMapView(productTag));\n        await traversePreviousProductTagsTree(productTag, dispatch);\n        dispatch<ToggleIsLoadingAction>(toggleIsLoading(false));\n    }\n};\n\nconst traversePreviousProductTagsTree = async (productTag: IProductTag, dispatch: Dispatch) => {\n    await asyncForEach(productTag.previousProductTags, async (productTag) => {\n        const result = await fetchPT(dispatch, productTag.productTagAddress);\n        dispatch<AddFetchedPreviousProductTagForMapViewAction>(addFetchedPreviousProductTagForMapView(result));\n        await asyncForEach(result.previousProductTags, async (prevPt) => {\n            const result = await fetchPT(dispatch, prevPt.productTagAddress);\n            dispatch<AddFetchedPreviousProductTagForMapViewAction>(addFetchedPreviousProductTagForMapView(result));\n        });\n    });\n};\n\nconst asyncForEach = async (array, callback) => {\n    for (let index = 0; index < array.length; index++) {\n        await callback(array[index], index, array);\n    }\n};","import React from 'react';\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Typography from \"@material-ui/core/Typography\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport {Card} from \"@material-ui/core\";\nimport {createStyles, makeStyles, Theme} from \"@material-ui/core/styles\";\nimport {INewProductTagAction, IProductTagAction} from \"../../interfaces/ProductTag\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        cardRoot: {\n            margin: 7,\n            width: \"100%\",\n            overflow: \"auto\"\n        },\n        cardTitle: {\n            fontSize: 16,\n        }\n    }),\n);\n\ninterface Props {\n    actions: IProductTagAction[] | INewProductTagAction[];\n}\n\nconst ActionsOverviewCard = (props: Props) => {\n    const classes = useStyles();\n    const {actions} = props;\n    // @ts-ignore\n    const filteredActions = actions.length > 0 && actions[0].selected !== undefined ? actions.filter(action => action.selected).map(action => action.name) : actions.map(action => action);\n    return (\n        <Card className={classes.cardRoot}>\n            <CardContent>\n                <Typography className={classes.cardTitle} color=\"textSecondary\" gutterBottom>\n                    Actions\n                </Typography>\n                <List dense={true}>\n                    {filteredActions.map((actionName, index) => {\n                            return React.cloneElement(\n                                <ListItem key={index}>\n                                    <ListItemText\n                                        primary={(index + 1) + `. ` + actionName}\n                                    />\n                                </ListItem>,\n                                {\n                                    key: actionName,\n                                })\n                        }\n                    )}\n                </List>\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default ActionsOverviewCard;","import React from 'react';\nimport {createStyles, makeStyles, Theme} from '@material-ui/core/styles';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport {StoreState} from \"../../state/reducers\";\nimport {connect} from \"react-redux\";\nimport {geolocated} from \"react-geolocated\";\nimport {INewProductTag} from \"../../interfaces/ProductTag\";\nimport Button from \"@material-ui/core/Button\";\nimport {showMapViewForProductTag} from \"../../state/actions/mapView\";\nimport {Divider} from \"@material-ui/core\";\nimport ExpansionPanelActions from \"@material-ui/core/ExpansionPanelActions\";\nimport {IScannedProducerReducer} from \"../../state/reducers/scannedProducers\";\nimport ActionsOverviewCard from \"../fragments/ActionsOverviewCard\";\nimport TextField from \"@material-ui/core/TextField\";\nimport {variableNames} from \"../../global/constants\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            overflow: \"auto\",\n            width: '100%',\n        },\n        heading: {\n            fontSize: theme.typography.pxToRem(15),\n            flexBasis: '33.33%',\n            flexShrink: 0,\n        },\n        secondaryHeading: {\n            fontSize: theme.typography.pxToRem(15),\n            color: theme.palette.text.secondary,\n        },\n        contractAddressForm: {\n            display: 'flex',\n            flexDirection: 'row',\n            alignItems: 'center',\n            // '& > *': {\n            //     margin: theme.spacing(1),\n            // },\n        }\n    }),\n);\n\ninterface Props {\n    newProductTag: INewProductTag;\n    scannedProducers: IScannedProducerReducer;\n    showMapViewForProductTag: Function;\n}\n\nconst _ScannedProductTagsPanel = (props: Props) => {\n    const classes = useStyles();\n    const [expanded, setExpanded] = React.useState<string | false>(false);\n\n    const {producers} = props.scannedProducers;\n\n    const handleChange = (panel: string) => (event: React.ChangeEvent<{}>, isExpanded: boolean) => {\n        setExpanded(isExpanded ? panel : false);\n    };\n\n    return (\n        <div className={classes.root}>\n            {props.newProductTag.previousProductTags.map((productTag, index1) => (\n                <ExpansionPanel key={index1} expanded={expanded === productTag.productTagAddress}\n                                onChange={handleChange(productTag.productTagAddress)}>\n                    <ExpansionPanelSummary\n                        expandIcon={<ExpandMoreIcon/>}\n                        aria-controls=\"panel1bh-content\"\n                        id=\"panel1bh-header\"\n                    >\n                        <Typography\n                            className={classes.heading}>{productTag.dateTime.day}/{productTag.dateTime.month}/{productTag.dateTime.year.toString().substring(2, 4)}</Typography>\n                        {producers.map((producer, index2) => {\n                            if (producer.producerContractAddress === productTag.producerAddress) {\n                                console.log(\"returning: \", productTag);\n                                return <Typography key={index2}\n                                                   className={classes.secondaryHeading}\n                                >\n                                    {producer.producerName}\n                                </Typography>;\n                            } // todo improve this method\n                        })}\n                    </ExpansionPanelSummary>\n                    <ExpansionPanelDetails>\n                        <ActionsOverviewCard actions={productTag.actions}/>\n                    </ExpansionPanelDetails>\n                    <ExpansionPanelDetails>\n                        <div className={classes.contractAddressForm}>\n                            <TextField\n                                style={{marginRight: \"10px\"}}\n                                id=\"outlined-basic\"\n                                label=\"Contract Address\"\n                                variant=\"outlined\"\n                                value={productTag.productTagAddress}\n                                disabled={true}\n                                size={\"medium\"}\n                            />\n                            <Button\n                                size={\"small\"}\n                                variant=\"outlined\"\n                                onClick={() => {\n                                    window.open(\n                                        `${variableNames.etherscanBaseURL}/address/${productTag.productTagAddress}`,\n                                        '_blank'\n                                    );\n                                }}\n                            >\n                                Show on Etherscan\n                            </Button>\n\n                        </div>\n                    </ExpansionPanelDetails>\n                    <Divider/>\n                    <ExpansionPanelActions>\n                        <Button\n                            variant=\"outlined\"\n                            onClick={() => props.showMapViewForProductTag(productTag)}\n                        >\n                            Show on map\n                        </Button>\n                    </ExpansionPanelActions>\n                    <Divider/>\n                    <Divider/>\n                    <div style={{\n                        marginTop: \"70px\"\n                    }}/>\n                </ExpansionPanel>\n            ))}\n\n        </div>\n    );\n};\n\nconst mapStateToProps = ({newProductTag, scannedProducers}: StoreState) => {\n    return {newProductTag, scannedProducers};\n};\n\nexport const ScannedProductTagsPanel = connect(\n    mapStateToProps,\n    {\n        showMapViewForProductTag\n    }\n)(geolocated()(_ScannedProductTagsPanel));\n","import React from 'react';\nimport {ScannedProductTagsPanel} from \"../product_tag/ScannedProductTagsPanel\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport {Card} from \"@material-ui/core\";\nimport {useDispatch} from 'react-redux';\nimport {createStyles, makeStyles, Theme} from \"@material-ui/core/styles\";\nimport useWindowDimensions from \"../ui/hooks/useWindowDimensions\";\nimport CameraIcon from \"@material-ui/icons/Camera\";\nimport Button from \"@material-ui/core/Button\";\nimport {toggleQRScannerModal} from \"../../state/actions\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        stepperRoot: {\n            height: theme.spacing(10),\n            paddingTop: theme.spacing(1)\n        },\n        cardRoot: {\n            height: theme.spacing(35),\n            overflow: \"auto\"\n        },\n        root: {\n            width: '100%',\n        },\n        buttonBack: {\n            float: \"left\"\n        },\n        buttonNext: {\n            float: \"right\"\n        },\n        scanPTButton: {\n            // margin: theme.spacing(1),\n            marginLeft: \"5%\"\n        },\n        instructions: {\n            marginTop: theme.spacing(1),\n            marginBottom: theme.spacing(1)\n        },\n    }),\n);\n\nconst PtScanner = () => {\n    const classes = useStyles();\n    const {height} = useWindowDimensions();\n    const dispatch = useDispatch();\n    return (\n        <>\n            <Card style={{\n                height: height - 150\n            }} className={classes.cardRoot}>\n                <CardContent>\n                    <Typography variant=\"h5\" component=\"h2\">\n                        Scanned Products\n                    </Typography>\n                </CardContent>\n                <CardContent style={{\n                    height: \"65%\"\n                }}>\n                    <ScannedProductTagsPanel/>\n                </CardContent>\n                <CardActions style={{\n                    position: \"absolute\"\n                }}>\n                </CardActions>\n            </Card>\n            <div style={{\n                display: \"flex\",\n                justifyContent: \"center\",\n            }}>\n                <Button\n                    style={{\n                        width: \"30%\",\n                        marginTop: 10\n                    }}\n                    variant=\"contained\"\n                    color=\"secondary\"\n                    // className={classes.scanPTButton}\n                    startIcon={<CameraIcon/>}\n                    onClick={() => dispatch(toggleQRScannerModal(true))}\n                >\n                    Scan\n                </Button>\n            </div>\n        </>\n    );\n};\n\nexport default PtScanner;","import React, {Component} from 'react';\nimport {Redirect, Route} from 'react-router-dom';\nimport {routePaths} from \"../global/constants\";\nimport {StoreState} from \"../state/reducers\";\nimport {connect} from \"react-redux\";\n\n\nconst _PrivateRoute = ({component: Component, signInOnStartup, producer, ...rest}) => {\n    return (\n        <Route\n            {...rest}\n            render={props =>\n                producer.isAuthenticated ? (\n                    <Component {...props} />\n                ) : (\n                    <Redirect\n                        to={{\n                            pathname: routePaths.producerAuthPage\n                        }}\n                    />\n                )\n            }\n        />\n    );\n};\n\nconst mapStateToProps = ({producer}: StoreState) => {\n    return {producer};\n};\n\nexport const PrivateRoute = connect(\n    mapStateToProps,\n    {}\n)(_PrivateRoute);\n","import React from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\nimport CameraIcon from '@material-ui/icons/Camera';\nimport HistoryIcon from '@material-ui/icons/History';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport theme from \"../../ui/Theme\";\nimport {Link} from \"react-router-dom\";\nimport {routePaths} from \"../../../global/constants\";\n\nconst useStyles = makeStyles({\n    root: {\n        // width: 500,\n    },\n    stickToBottom: {\n        width: '100%',\n        position: 'fixed',\n        bottom: 0,\n        marginLeft: theme.spacing(-2),\n        // backgroundColor: \"#8e9d90\",\n        // marginBottom: theme.spacing(2.5),\n    }\n});\n\nconst ProducerBottomTagNavigation = () => {\n    const classes = useStyles();\n    const [value, setValue] = React.useState(0);\n    return (\n        <BottomNavigation\n            value={value}\n            onChange={(event, newValue) => {\n                setValue(newValue);\n            }}\n            showLabels\n            className={classes.stickToBottom}\n        >\n            <BottomNavigationAction component={Link} to={routePaths.createProductTag} label=\"New PT\"\n                                    icon={<CameraIcon/>}/>\n            <BottomNavigationAction component={Link} to={routePaths.producerHistoryPage} label=\"History\"\n                                    icon={<HistoryIcon/>}/>\n            <BottomNavigationAction component={Link} to={routePaths.producerSettings} label=\"Settings\"\n                                    icon={<SettingsIcon/>}/>\n        </BottomNavigation>\n    );\n};\n\nexport default ProducerBottomTagNavigation;","import React from 'react';\nimport {createStyles, makeStyles, Theme} from '@material-ui/core/styles';\nimport {StoreState} from \"../../../state/reducers\";\nimport {connect} from \"react-redux\";\nimport {Ui} from \"../../../state/actions\";\nimport {INewProductTag} from \"../../../interfaces/ProductTag\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport {ScannedProductTagsPanel} from \"../ScannedProductTagsPanel\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        cardRoot: {\n            overflow: \"auto\"\n        },\n        bullet: {\n            display: 'inline-block',\n            margin: '0 2px',\n            transform: 'scale(0.8)',\n        },\n        title: {\n            fontSize: 14,\n        },\n        pos: {\n            marginBottom: 12,\n        },\n        cardActions: {\n            justifyContent: 'center'\n        }\n    }),\n);\n\ninterface Props {\n    newProductTag: INewProductTag\n    ui: Ui\n}\n\nconst _ScanProductTags = (props: Props) => {\n    const classes = useStyles();\n\n    return (\n        <>\n            <CardContent>\n                <Typography variant=\"h5\" component=\"h2\">\n                    Scanned Products\n                </Typography>\n            </CardContent>\n            <CardContent style={{\n                height: \"65%\"\n            }}>\n                <ScannedProductTagsPanel/>\n            </CardContent>\n            <CardActions style={{\n                position: \"absolute\"\n            }} className={classes.cardActions}>\n            </CardActions>\n        </>\n    );\n};\n\n\nconst mapStateToProps = ({newProductTag, ui}: StoreState) => {\n    return {newProductTag, ui};\n};\n\nexport const ScanProductTags = connect(\n    mapStateToProps,\n    {}\n)(_ScanProductTags);\n","import React from 'react';\nimport {Card} from \"@material-ui/core\";\nimport {INewProductTag, IProductTag} from \"../../interfaces/ProductTag\";\nimport {createStyles, makeStyles, Theme} from \"@material-ui/core/styles\";\n\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {ScannedProductTagsPanel} from \"../product_tag/ScannedProductTagsPanel\";\nimport ActionsOverviewCard from \"./ActionsOverviewCard\";\nimport TextField from \"@material-ui/core/TextField\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        demo: {\n            backgroundColor: theme.palette.background.paper,\n            overflow: \"auto\",\n        },\n        cardTitle: {\n            fontSize: 16,\n        },\n        dateTextField: {\n            marginLeft: theme.spacing(1),\n            marginRight: theme.spacing(1),\n            // width: 200,\n        },\n    }),\n);\n\ninterface Props {\n    productTag: INewProductTag | IProductTag;\n    height?: string;\n    showPreviousProductTagsList?: boolean;\n}\n\nconst ProductTagDetails = (props: Props) => {\n    const classes = useStyles();\n    const {actions, dateTime} = props.productTag;\n\n    const shouldShowPreviousProductTagsList = (): boolean => {\n        return !(props.showPreviousProductTagsList === undefined || !props.showPreviousProductTagsList);\n    };\n    const formattedDateTime = new Date(dateTime.year, dateTime.month - 1, dateTime.day, dateTime.hour, dateTime.minute);\n\n    return (\n        <div className={classes.demo} style={{\n            height: props.height ? props.height : \"100%\"\n        }}>\n            <CardContent>\n                <Typography variant=\"h5\" component=\"h2\">\n                    Product Tag Overview\n                </Typography>\n            </CardContent>\n\n            <TextField\n                variant=\"outlined\"\n                id=\"datetime-local\"\n                disabled={true}\n                label=\"Creation Date\"\n                type=\"dateTextField\"\n                defaultValue={`${formattedDateTime.toDateString()}, ${formattedDateTime.toLocaleTimeString()}`}\n                className={classes.dateTextField}\n            />\n\n            <ActionsOverviewCard actions={actions}/>\n\n            {shouldShowPreviousProductTagsList() ?\n                <Card style={{\n                    margin: 7\n                }}>\n                    <CardContent>\n                        <Typography className={classes.cardTitle} color=\"textSecondary\" gutterBottom>\n                            Previous Product Tags\n                        </Typography>\n                        <ScannedProductTagsPanel/>\n                    </CardContent>\n                </Card> : null\n            }\n\n        </div>\n    );\n};\n\n\nexport default ProductTagDetails;","import React from 'react';\nimport {StoreState} from \"../../../state/reducers\";\nimport {connect} from \"react-redux\";\nimport {INewProductTag} from \"../../../interfaces/ProductTag\";\nimport ProductTagDetails from \"../../fragments/ProductTagDetails\";\n\n\ninterface Props {\n    children?: React.ReactElement;\n    newProductTag: INewProductTag;\n}\n\nconst _NewPTOverview = (props: Props) => {\n    return (\n        <ProductTagDetails productTag={props.newProductTag}/>\n    );\n};\n\nconst mapStateToProps = ({newProductTag}: StoreState) => {\n    return {newProductTag};\n};\n\nexport const NewPTOverview = connect(\n    mapStateToProps,\n    {}\n)(_NewPTOverview);\n","import React from 'react';\nimport {IGeneratedProductTag} from \"../../interfaces/ProductTag\";\nimport {QRCode} from 'react-qr-svg';\n\ninterface Props {\n    generatedProductTag: IGeneratedProductTag;\n    children?: React.ReactElement;\n}\n\nexport class QrCodeToPrint extends React.Component<Props> {\n    render() {\n        return (\n            <div style={{\n                order: 1\n            }}>\n                <QRCode\n                    bgColor=\"#FFFFFF\"\n                    fgColor=\"#000000\"\n                    level=\"Q\"\n                    style={{\n                        width: \"76%\",\n                        marginLeft: \"12%\",\n                        marginBottom: \"15px\"\n                    }}\n                    value={this.props.generatedProductTag.address}\n                />\n            </div>\n        );\n    }\n}","import React, {useRef} from 'react';\nimport {StoreState} from \"../../../state/reducers\";\nimport {connect} from \"react-redux\";\nimport {geolocated} from \"react-geolocated\";\nimport {IGeneratedProductTag} from \"../../../interfaces/ProductTag\";\nimport ReactToPrint from \"react-to-print\";\nimport {QrCodeToPrint} from \"../../fragments/QRCodeToPrint\";\nimport {Button} from \"@material-ui/core\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Typography from \"@material-ui/core/Typography\";\n\n\ninterface Props {\n    generatedProductTag: IGeneratedProductTag\n}\n\nconst _PrintQrCode = (props: Props) => {\n\n    const componentRef = useRef<HTMLDivElement>(null);\n\n\n    return (\n        <>\n            <CardContent>\n                <Typography variant=\"h5\" component=\"h2\">\n                    Generated QR Code\n                </Typography>\n            </CardContent>\n            <div style={{\n                display: \"flex\",\n                flexDirection: \"column\",\n                alignItems: \"center\"\n            }}>\n                <ReactToPrint\n                    content={() => componentRef.current}\n                    trigger={() =>\n                        <Button\n                            style={{\n                                order: 2\n                            }}\n                            variant={\"contained\"}\n                            color=\"secondary\"\n                        >\n                            Print QR Code\n                        </Button>}\n                />\n                <QrCodeToPrint\n                    generatedProductTag={props.generatedProductTag}\n                    // @ts-ignore\n                    ref={componentRef}\n                />\n\n            </div>\n        </>\n    );\n};\n\nconst mapStateToProps = ({generatedProductTag}: StoreState) => {\n    return {generatedProductTag};\n};\n\nexport const PrintShareQRCode = connect(\n    mapStateToProps,\n    {}\n)(geolocated()(_PrintQrCode));\n\n","import React from 'react';\nimport {createStyles, makeStyles, Theme} from '@material-ui/core/styles';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport Button from '@material-ui/core/Button';\nimport ManageActionsForm from \"../fragments/ManageActionsForm\";\nimport {ScanProductTags} from \"./steps/ScanProductTags\";\nimport {NewPTOverview} from \"./steps/NewPTOverview\";\nimport {connect} from \"react-redux\";\nimport {StoreState} from \"../../state/reducers\";\nimport {\n    addActionToNewProductTag,\n    generateProductTag,\n    setNewProductTagActiveStep,\n    toggleActionOfNewProductTag,\n    toggleQRScannerModal,\n    Ui\n} from \"../../state/actions\";\nimport {IGeolocation, INewProductTag} from \"../../interfaces/ProductTag\";\nimport {geolocated, GeolocatedProps} from \"react-geolocated\";\nimport {PrintShareQRCode} from \"./steps/PrintShareQRCode\";\nimport ArrowLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ArrowRightIcon from '@material-ui/icons/ChevronRight';\nimport {Card} from \"@material-ui/core\";\nimport useWindowDimensions from \"../ui/hooks/useWindowDimensions\";\nimport CameraIcon from \"@material-ui/icons/Camera\";\n\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        stepperRoot: {\n            height: theme.spacing(10),\n            paddingTop: theme.spacing(1)\n        },\n        cardRoot: {\n            height: theme.spacing(35),\n            overflow: \"auto\"\n        },\n        root: {\n            width: '100%',\n        },\n        buttonBack: {\n            float: \"left\"\n        },\n        buttonNext: {\n            float: \"right\"\n        },\n        scanPTButton: {\n            // margin: theme.spacing(1),\n            marginLeft: \"5%\"\n        },\n        instructions: {\n            marginTop: theme.spacing(1),\n            marginBottom: theme.spacing(1)\n        },\n    }),\n);\n\nfunction getStepContent(props: Props, step: number) {\n    switch (step) {\n        case 0:\n            return <ScanProductTags/>;\n        case 1:\n            return <ManageActionsForm\n                currentActions={props.newProductTag.actions}\n                addAction={props.addActionToNewProductTag}\n                toggleAction={props.toggleActionOfNewProductTag}\n            />;\n        case 2:\n            return <NewPTOverview/>;\n        case 3:\n            return <PrintShareQRCode/>;\n        default:\n            return 'Unknown step';\n    }\n}\n\nfunction getForwardButtonText(step) {\n    switch (step) {\n        case 0:\n            return \"Actions\";\n        case 1:\n            return \"Overview\";\n        case 2:\n            return \"Create\";\n        case 3:\n            return \"New Product Tag\";\n        default:\n            return 'Unknown step';\n    }\n}\n\ninterface Props extends GeolocatedProps {\n    children?: React.ReactElement;\n    generateProductTag: Function;\n    newProductTag: INewProductTag;\n    ui: Ui;\n    addActionToNewProductTag: typeof addActionToNewProductTag;\n    toggleActionOfNewProductTag: typeof toggleActionOfNewProductTag;\n    setNewProductTagActiveStep: typeof setNewProductTagActiveStep;\n    toggleQRScannerModal: typeof toggleQRScannerModal\n}\n\n\nconst _NewProductTag = (props: Props) => {\n    const classes = useStyles();\n    const steps = props.ui.newProductTagSteps.steps;\n    const {height} = useWindowDimensions();\n\n    const activeStep = props.ui.newProductTagSteps.activeStep;\n\n    const getGeolocation = (): IGeolocation => {\n        return {\n            longitude: props.coords?.longitude === undefined ? 0 : props.coords.longitude,\n            latitude: props.coords?.latitude === undefined ? 0 : props.coords.latitude\n        }\n    };\n\n    const handleNext = () => {\n        if (activeStep === 2) {\n            props.generateProductTag({\n                ...props.newProductTag,\n                geolocation: getGeolocation()\n                // geolocation: {\n                //     longitude: 8.5417,\n                //     latitude: 47.3769\n                // }\n            });\n        } else if (activeStep === steps.length - 1) {\n            props.setNewProductTagActiveStep(0);\n        } else {\n            props.setNewProductTagActiveStep(activeStep + 1);\n        }\n    };\n\n    const handleBack = () => {\n        props.setNewProductTagActiveStep(activeStep - 1);\n    };\n    //\n    // const handleReset = () => {\n    //     props.setNewProductTagActiveStep(0);\n    // };\n\n    return (\n        <div className={classes.root}>\n            <Stepper className={classes.stepperRoot} alternativeLabel activeStep={activeStep}>\n                {steps.map(label => (\n                    <Step key={label}>\n                        <StepLabel>{label}</StepLabel>\n                    </Step>\n                ))}\n            </Stepper>\n            <>\n                <div className={classes.instructions}>\n                    <Card style={{\n                        height: height - 300\n                    }} className={classes.cardRoot}>\n                        {getStepContent(props, activeStep)}\n                    </Card>\n                </div>\n                <div style={{\n                    // display: \"flex\",\n                    justifyContent: \"center\",\n                }}>\n                    <Button\n                        style={{\n                            width: \"30%\",\n                            marginRight: \"5%\",\n                            float: activeStep === 0 ? \"none\" : \"left\"\n                        }}\n                        variant=\"outlined\"\n                        disabled={activeStep === 0}\n                        onClick={handleBack}\n                        // className={classes.buttonBack}\n                        startIcon={<ArrowLeftIcon/>}\n                    >\n                        Back\n                    </Button>\n                    {activeStep === 0 ?\n                        <Button\n                            style={{\n                                width: \"30%\"\n                            }}\n                            variant=\"contained\"\n                            color=\"secondary\"\n                            // className={classes.scanPTButton}\n                            startIcon={<CameraIcon/>}\n                            onClick={() => props.toggleQRScannerModal(true)}\n                        >\n                            Scan\n                        </Button>\n                        : null}\n                    <Button\n                        style={{\n                            width: activeStep === 0 ? \"30%\" : \"40%\",\n                            marginLeft: \"5%\",\n                            float: activeStep === 0 ? \"none\" : \"right\"\n                        }}\n                        variant={activeStep === 2 ? \"contained\" : \"outlined\"}\n                        color={activeStep === 2 ? \"secondary\" : \"inherit\"}\n                        onClick={handleNext}\n                        // className={classes.buttonNext}\n                        endIcon={<ArrowRightIcon/>}\n                    >\n                        {getForwardButtonText(activeStep)}\n                    </Button>\n                </div>\n            </>\n        </div>\n    );\n};\n\nconst mapStateToProps = ({newProductTag, ui}: StoreState) => {\n    return {newProductTag, ui};\n};\n\nexport const NewProductTagScreen = connect(\n    mapStateToProps,\n    {\n        generateProductTag,\n        addActionToNewProductTag,\n        toggleActionOfNewProductTag,\n        setNewProductTagActiveStep,\n        toggleQRScannerModal\n    }\n)(geolocated()(_NewProductTag));\n","import {ActionTypes} from \"./types\";\nimport {INewProductTag, INewProductTagAction, IProductTag} from \"../../interfaces/ProductTag\";\nimport {Dispatch} from \"redux\";\nimport {\n    setNewProductTagActiveStep,\n    SetNewProductTagActiveStepAction,\n    toggleIsLoading,\n    ToggleIsLoadingAction\n} from \"./ui\";\nimport web3 from \"../../ethereum/web3\";\nimport {History} from 'history';\nimport ProducerContract from \"../../ethereum/producer\"\nimport {getItemFromLocalStorage} from \"../localStorage\";\nimport {variableNames} from \"../../global/constants\";\nimport {fetchPT} from \"./productTag\";\nimport {store} from \"../../index\";\nimport {saveGeneratedProductTagAddress, SaveGeneratedProductTagAddressAction} from \"./generatedProductTag\";\nimport {IProducer} from \"../../interfaces/Producer\";\n\nexport interface GenerateProductTagAction {\n    type: ActionTypes.generateProductTag;\n    productTag: INewProductTag\n}\n\nexport interface ToggleActionOfNewProductTagAction {\n    type: ActionTypes.toggleActionOfNewProductTag,\n    action: INewProductTagAction\n}\n\nexport interface AddActionToNewProductTagAction {\n    type: ActionTypes.addActionToNewProductTag;\n    newAction: INewProductTagAction\n}\n\nexport interface ResetProductTagUponCreationAction {\n    type: ActionTypes.resetProductTagUponCreation;\n}\n\nexport interface FetchPreviousProductTagAction {\n    type: ActionTypes.fetchPreviousProductTag;\n    productTag: IProductTag\n}\n\nexport interface AddPreviousProductTagAction {\n    type: ActionTypes.addPreviousProductTag;\n    productTag: IProductTag\n}\n\nexport const addActionToNewProductTag = (newAction: INewProductTagAction): AddActionToNewProductTagAction => {\n    return {\n        type: ActionTypes.addActionToNewProductTag,\n        newAction\n    }\n};\n\nexport const toggleActionOfNewProductTag = (action: INewProductTagAction): ToggleActionOfNewProductTagAction => {\n    return {\n        type: ActionTypes.toggleActionOfNewProductTag,\n        action\n    }\n};\n\nexport const resetProductTagUponCreation = (): ResetProductTagUponCreationAction => {\n    return {\n        type: ActionTypes.resetProductTagUponCreation\n    }\n};\n\nexport const fetchPreviousProductTag = (productTagContractAddress: string) => {\n    return async (dispatch: Dispatch) => {\n        dispatch<ToggleIsLoadingAction>(toggleIsLoading(true));\n\n        if (!store.getState().newProductTag.previousProductTags.some(productTag => productTag.productTagAddress === productTagContractAddress)) {\n            const productTag = await fetchPT(dispatch, productTagContractAddress);\n            dispatch<AddPreviousProductTagAction>({\n                type: ActionTypes.addPreviousProductTag,\n                productTag\n            });\n        } else {\n            console.log(\"Pt scanned...\");\n            // todo display modal\n        }\n\n        dispatch<ToggleIsLoadingAction>(toggleIsLoading(false));\n    }\n};\n\n\nexport const generateProductTag = (productTag: INewProductTag, history: History) => {\n    return async (dispatch: Dispatch) => {\n        dispatch<ToggleIsLoadingAction>(toggleIsLoading(true));\n\n        try {\n            const accounts = await web3.eth.getAccounts();\n            const dateTime = new Date();\n            const genProductTag = {\n                ...productTag,\n                dateTime: {\n                    year: dateTime.getFullYear(),\n                    month: dateTime.getMonth() + 1,\n                    day: dateTime.getDate(),\n                    hour: dateTime.getHours(),\n                    minute: dateTime.getMinutes()\n                }\n            };\n\n            console.log(\"generating pt: \", genProductTag);\n            const producer: IProducer = getItemFromLocalStorage(variableNames.producer);\n\n            const methodToCall = ProducerContract(producer.producerContractAddress)\n                .methods.generateProductTag(\n                    productTag.actions.filter(action => action.selected).map(action => action.name),\n                    {\n                        longitude: productTag.geolocation.longitude.toString(),\n                        latitude: productTag.geolocation.latitude.toString(),\n                        // longitude: \"9.16225433\",\n                        // latitude: \"47.10845747\",\n                    },\n                    genProductTag.dateTime,\n                    productTag.previousProductTags.map(pt => pt.productTagAddress)\n                );\n\n            const productTagAddress = await methodToCall.call({from: accounts[0]});\n            console.log(\"generated pt address\", productTagAddress);\n            await methodToCall.send({from: accounts[0]});\n            dispatch<SaveGeneratedProductTagAddressAction>(saveGeneratedProductTagAddress(productTagAddress));\n            dispatch<ResetProductTagUponCreationAction>(resetProductTagUponCreation());\n            dispatch<SetNewProductTagActiveStepAction>(setNewProductTagActiveStep(3));\n        } catch (e) {\n            console.error(e);\n        } finally {\n            dispatch<ToggleIsLoadingAction>(toggleIsLoading(false));\n        }\n    }\n};","import {ActionTypes} from \"./types\";\n\n\nexport interface SaveGeneratedProductTagAddressAction {\n    type: ActionTypes.saveGeneratedProductTagAddress;\n    address: string;\n}\n\nexport const saveGeneratedProductTagAddress = (address: string): SaveGeneratedProductTagAddressAction => {\n    return {\n        type: ActionTypes.saveGeneratedProductTagAddress,\n        address\n    }\n};\n","import React from 'react';\n\nconst ProductTagHistory = () => {\n    return (\n        <div>\n            Product tag history\n        </div>\n    );\n};\n\nexport default ProductTagHistory;","import React from 'react';\n\nconst ProducerSettings = () => {\n    return (\n        <div>\n            Producer Settings\n        </div>\n    );\n};\n\nexport default ProducerSettings;","import React from 'react';\nimport ProducerBottomTagNavigation from \"./ProducerBottomTagNavigation\";\nimport {routePaths} from \"../../../global/constants\";\nimport {PrivateRoute} from \"../../PrivateRoute\";\nimport {NewProductTagScreen} from \"../../product_tag/NewProductTagScreen\";\nimport ProductTagHistory from \"../../product_tag/ProductTagHistory\";\nimport ProducerSettings from \"./ProducerSettings\";\nimport theme from \"../../ui/Theme\";\n\nconst Producer = (props) => {\n    return (\n        <>\n            <div style={{\n                marginTop: theme.spacing(2)\n            }}>\n                {props.location.pathname === routePaths.producer ? <NewProductTagScreen/> : null}\n                <PrivateRoute path=\"/producer/:subroute\" component={subroute}/>\n            </div>\n            <ProducerBottomTagNavigation/>\n        </>\n    );\n};\n\nconst subroute = ({match}) => {\n    switch (match.url) {\n        case routePaths.createProductTag:\n            return <NewProductTagScreen/>;\n        case routePaths.producerHistoryPage:\n            return <ProductTagHistory/>;\n        case routePaths.producerSettings:\n            return <ProducerSettings/>;\n        default:\n            return <div>Not Found</div>\n    }\n};\n\nexport default Producer;","import React from 'react';\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport Fade from \"@material-ui/core/Fade\";\nimport Modal from \"@material-ui/core/Modal\";\nimport {StoreState} from \"../../state/reducers\";\nimport {connect} from \"react-redux\";\nimport {fetchPreviousProductTag, toggleQRScannerModal, Ui} from \"../../state/actions\";\nimport {createStyles, makeStyles, Theme} from \"@material-ui/core/styles\";\nimport QrReader from 'react-qr-reader'\nimport {isAddressValid} from \"../../ethereum/helpers\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        modal: {\n            width: \"80%\",\n            height: \"40%\",\n            marginLeft: \"10%\",\n            marginTop: \"30%\",\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n        },\n        paper: {\n            width: \"100%\",\n            height: \"100%\",\n            backgroundColor: theme.palette.background.paper,\n            border: '2px solid #000',\n            boxShadow: theme.shadows[5],\n            padding: theme.spacing(2, 4, 3),\n        },\n    }),\n);\n\ninterface Props {\n    ui: Ui\n    fetchPreviousProductTag: Function\n    toggleQRScannerModal: typeof toggleQRScannerModal\n}\n\nconst _QrScannerModal = (props: Props) => {\n    const classes = useStyles();\n\n    const handleOnScan = (data: string) => {\n        if (isAddressValid(data)) {\n            props.fetchPreviousProductTag(data);\n            props.toggleQRScannerModal(false)\n        }\n    };\n\n    return (\n        <Modal\n            aria-labelledby=\"transition-modal-title\"\n            aria-describedby=\"transition-modal-description\"\n            className={classes.modal}\n            open={props.ui.isQRScannerModalOpen}\n            onClose={() => props.toggleQRScannerModal(false)}\n            closeAfterTransition\n            BackdropComponent={Backdrop}\n            BackdropProps={{\n                timeout: 500,\n            }}\n        >\n            <Fade in={props.ui.isQRScannerModalOpen}>\n                <div className={classes.paper}>\n                    <QrReader\n                        delay={300}\n                        onError={(error) => console.error(\"error: \", error)}\n                        onScan={(data) => {\n                            // handleOnScan(\"0xa045f0E8C3C20525FFE742277BaD45E33f3Be961\"); // bern\n                            // handleOnScan(\"0x1Fb387A826F12920afE9100C1764B6eFfFec1C74\"); // winterthur\n                            // handleOnScan(\"0xC4Fc43d36DAA20BB609827E5E4654Ac02c48b7d0\"); // lugano\n                            // handleOnScan(\"0x55960902BaA42D94d7df260dc2700d6697ccfB23\"); // zurich\n                            handleOnScan(data);\n                        }} // todos\n                        style={{width: '100%'}}\n                    />\n                </div>\n            </Fade>\n        </Modal>\n    );\n};\n\nconst mapStateToProps = ({ui}: StoreState) => {\n    return {ui};\n};\n\nexport const QrScannerModal = connect(\n    mapStateToProps,\n    {\n        fetchPreviousProductTag,\n        toggleQRScannerModal\n\n    }\n)(_QrScannerModal);\n","import React from 'react'\nimport {Map, Marker, Polyline, Popup, TileLayer} from \"react-leaflet\"\nimport {StoreState} from \"../../state/reducers\";\nimport {connect} from \"react-redux\";\nimport {IMapView} from \"../../interfaces/MapView\";\nimport {createStyles, makeStyles, Theme} from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Fade from '@material-ui/core/Fade';\nimport {toggleMapViewModal} from \"../../state/actions/mapView\";\nimport useWindowDimensions from \"../ui/hooks/useWindowDimensions\";\nimport Control from '@skyeer/react-leaflet-custom-control'\nimport {IProductTag} from \"../../interfaces/ProductTag\";\nimport L from 'leaflet'\nimport ProductTagDetails from \"../fragments/ProductTagDetails\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        modal: {\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n        },\n        closeMapButton: {\n            border: '2px solid grey',\n            backgroundColor: 'white',\n            fontWeight: 'bold',\n            marginLeft: '5%',\n        }\n    }),\n);\n\ninterface IPolyline {\n    from_lat: number,\n    from_long: number,\n    id: string,\n    to_lat: number,\n    to_long: number,\n}\n\ninterface Props {\n    mapView: IMapView,\n    toggleMapViewModal: typeof toggleMapViewModal\n}\n\nconst _MapViewModal = (props: Props) => {\n    const classes = useStyles();\n    const {height} = useWindowDimensions();\n\n    const mainMarkerIcon = new L.Icon({\n        iconUrl: require('../../assets/img/marker-icon.png'),\n        iconRetinaUrl: require('../../assets/img/marker-icon.png'),\n        iconSize: [35, 50],\n        shadowUrl: require('../../assets/img/marker-shadow.png')\n    });\n\n\n    const {productTag, previousProductTags, isMapViewModalOpen} = props.mapView;\n\n    const lines: IPolyline[] = [];\n    const allProductTags: IProductTag[] = previousProductTags.concat([productTag]);\n    allProductTags.forEach(pt1 => {\n        pt1.previousProductTags.forEach(pt2 => {\n            allProductTags.forEach(pt3 => {\n                if (pt2.productTagAddress === pt3.productTagAddress) {\n                    lines.push({\n                        from_lat: pt1.geolocation.latitude,\n                        from_long: pt1.geolocation.longitude,\n                        id: pt2.productTagAddress.concat(pt3.productTagAddress),\n                        to_lat: pt3.geolocation.latitude,\n                        to_long: pt3.geolocation.longitude,\n                    })\n                }\n            })\n        })\n    });\n\n\n    return (\n        <Modal\n            aria-labelledby=\"transition-modal-title\"\n            aria-describedby=\"transition-modal-description\"\n            className={classes.modal}\n            open={isMapViewModalOpen}\n            onClose={() => props.toggleMapViewModal(false)}\n            closeAfterTransition\n            BackdropComponent={Backdrop}\n            BackdropProps={{\n                timeout: 500,\n            }}\n        >\n            <Fade in={isMapViewModalOpen}>\n                <Map\n                    style={{\n                        height: height,\n                        width: height,\n                    }}\n                    animate={true}\n                    center={[productTag.geolocation.latitude, productTag.geolocation.longitude]} zoom={10}>\n                    <TileLayer\n                        attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                    />\n                    <Marker\n                        icon={mainMarkerIcon}\n                        position={[props.mapView.productTag.geolocation.latitude, props.mapView.productTag.geolocation.longitude]}>\n                        <Popup>\n                            <ProductTagDetails\n                                height={(height * 0.6).toString().concat(\"px\")}\n                                productTag={productTag}\n                            />\n                        </Popup>\n                    </Marker>\n                    {props.mapView.previousProductTags.map((productTag, index) => (\n                        <Marker key={index}\n                                position={[productTag.geolocation.latitude, productTag.geolocation.longitude]}>\n                            <Popup>\n                                <ProductTagDetails\n                                    height={(height * 0.8).toString().concat(\"px\")}\n                                    productTag={productTag}\n                                />\n                            </Popup>\n                        </Marker>\n                    ))}\n                    {lines.map(({id, from_lat, from_long, to_lat, to_long}) => {\n                        return <Polyline key={id} positions={[\n                            [from_lat, from_long], [to_lat, to_long],\n                        ]} color={'red'}/>\n                    })}\n                    <Control position=\"bottomright\">\n                        <button\n                            className={classes.closeMapButton}\n                            onClick={() => props.toggleMapViewModal(false)}\n                        >\n                            Close Map\n                        </button>\n                    </Control>\n                </Map>\n            </Fade>\n        </Modal>\n    )\n};\n\nconst mapStateToProps = ({mapView}: StoreState) => {\n    return {mapView};\n};\n\nexport const MapViewModal = connect(\n    mapStateToProps,\n    {\n        toggleMapViewModal\n    }\n)(_MapViewModal);\n","import React from 'react';\nimport {HashRouter, Route, Switch} from \"react-router-dom\"\nimport {Header} from \"./ui/Header\";\nimport ThemeProvider from \"@material-ui/styles/ThemeProvider\";\nimport theme from \"./ui/Theme\";\nimport {makeStyles} from '@material-ui/core/styles';\nimport HomeScreen from \"./screens/HomeScreen\";\nimport ProducerAuth from \"./screens/producer/auth/ProducerAuth\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Container from '@material-ui/core/Container';\nimport Footer from \"./ui/Footer\";\nimport {LoadingBackdrop} from \"./ui/Backdrop\";\nimport {routePaths} from \"../global/constants\";\nimport PtScanner from \"./screens/PTScanner\";\nimport {PrivateRoute} from \"./PrivateRoute\";\nimport Producer from \"./screens/producer/Producer\";\nimport {QrScannerModal} from \"./ui/QRScannerModal\";\nimport {MapViewModal} from \"./map_view/MapViewModal\";\n\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: 'flex',\n        flexDirection: 'column',\n        minHeight: '100vh',\n    },\n    main: {\n        // marginTop: theme.spacing(8),\n        marginBottom: theme.spacing(2),\n        // marginLeft: 0,\n        // paddingLeft: 0\n    }\n}));\n\n\nconst App: React.FC = () => {\n\n    const classes = useStyles();\n    return (\n        <div className={classes.root}>\n            <ThemeProvider theme={theme}>\n                <CssBaseline/>\n                <Container component=\"main\" className={classes.main} maxWidth=\"sm\">\n                    <HashRouter basename=\"/\">\n                            <Header/>\n                            <Switch>\n                                <Route exact path=\"/\" component={HomeScreen}/>\n                                <Route exact path={routePaths.ptScan} component={PtScanner}/>\n                                <Route exact path={routePaths.producerAuthPage} component={ProducerAuth}/>\n                                <PrivateRoute path={routePaths.producer} component={Producer}/>\n                            </Switch>\n                    </HashRouter>\n                </Container>\n                <Footer/>\n                <MapViewModal/>\n                <QrScannerModal/>\n                <LoadingBackdrop/>\n            </ThemeProvider>\n        </div>\n    );\n};\n\nexport default App;","import ReactDOM from \"react-dom\";\nimport React from 'react';\nimport {applyMiddleware, createStore} from \"redux\";\nimport {Provider} from \"react-redux\";\nimport thunk from \"redux-thunk\";\nimport {reducers} from \"./state/reducers\";\nimport App from \"./components/App\";\nimport {composeWithDevTools} from \"redux-devtools-extension\";\n\nexport const store = createStore(\n    reducers,\n    composeWithDevTools(applyMiddleware(thunk))\n);\n\n\nReactDOM.render(\n    <Provider store={store}>\n        <App/>\n    </Provider>,\n    document.querySelector('#root'));"],"sourceRoot":""}